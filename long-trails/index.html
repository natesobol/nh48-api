<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="index, follow, max-image-preview:large">
  <title>Long-Distance Trails & Sections Map (Appalachian Trail, NH Sections, PCT, CDT) | NH48 API</title>
  <meta name="description" content="Explore long-distance trail campaigns with interactive maps and segment details, including Appalachian Trail New Hampshire sections, on NH48.">
  <meta name="keywords" content="long-distance trails, Appalachian Trail, Pacific Crest Trail, Continental Divide Trail, trail sections, hiking map, NH48">
  <link rel="canonical" href="https://nh48.info/long-trails">
  <meta property="og:title" content="Long-Distance Trails & Sections Map (Appalachian Trail, NH Sections, PCT, CDT) | NH48 API">
  <meta property="og:description" content="Explore long-distance trail campaigns with interactive maps and segment details, including Appalachian Trail New Hampshire sections, on NH48.">
  <meta property="og:url" content="https://nh48.info/long-trails">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="NH48">
  <meta property="og:image" content="https://nh48.info/nh48-preview.png">
  <meta property="og:image:alt" content="Long-distance trail explorer with highlighted routes across the United States">
  <link rel="stylesheet" href="/css/quick-browse-footer.css">
  <script src="/js/quick-browse-footer.js" defer></script>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Long-Distance Trails & Sections Map (Appalachian Trail, NH Sections, PCT, CDT) | NH48 API">
  <meta name="twitter:description" content="Explore long-distance trail campaigns with interactive maps and segment details, including Appalachian Trail New Hampshire sections, on NH48.">
  <meta name="twitter:image" content="https://nh48.info/nh48-preview.png">
  <meta name="twitter:image:alt" content="Long-distance trail explorer with highlighted routes across the United States">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Dataset",
      "name": "Long-Distance Trails Dataset (Appalachian Trail, PCT, CDT)",
      "description": "Open dataset of long-distance hiking routes including the Appalachian Trail, Pacific Crest Trail, Continental Divide Trail, and regional thru-hikes with segment metadata for mapping and analysis.",
      "identifier": "https://nh48.info/dataset/long-trails",
      "url": "https://nh48.info/long-trails",
      "sameAs": [
        "https://nh48.info/dataset/long-trails",
        "https://github.com/natesobol/nh48-api/tree/main/data/long-trails"
      ],
      "license": "https://creativecommons.org/licenses/by/4.0/",
      "isAccessibleForFree": true,
      "creator": { "@type": "Person", "name": "Nathan Sobol", "url": "https://nh48.info" },
      "keywords": [
        "long-distance trails",
        "Appalachian Trail dataset",
        "Pacific Crest Trail dataset",
        "Continental Divide Trail dataset",
        "thru-hiking data",
        "geospatial dataset"
      ],
      "distribution": [
        {
          "@type": "DataDownload",
          "name": "Long trails – full collection",
          "contentUrl": "https://nh48.info/data/long-trails-full.json",
          "encodingFormat": "application/json"
        },
        {
          "@type": "DataDownload",
          "name": "Long trails index",
          "contentUrl": "https://nh48.info/data/long-trails-index.json",
          "encodingFormat": "application/json"
        },
        {
          "@type": "DataDownload",
          "name": "Long trails manifest",
          "contentUrl": "https://nh48.info/data/long-trails-manifest.json",
          "encodingFormat": "application/json"
        },
        {
          "@type": "DataDownload",
          "name": "Appalachian Trail (full route)",
          "contentUrl": "https://nh48.info/data/long-trails/appalachian_trail.json",
          "encodingFormat": "application/json"
        },
        {
          "@type": "DataDownload",
          "name": "Pacific Crest Trail",
          "contentUrl": "https://nh48.info/data/long-trails/pacific_crest_trail.json",
          "encodingFormat": "application/json"
        },
        {
          "@type": "DataDownload",
          "name": "Continental Divide Trail",
          "contentUrl": "https://nh48.info/data/long-trails/continential_divide_trail.json",
          "encodingFormat": "application/json"
        },
        {
          "@type": "DataDownload",
          "name": "Arizona Trail",
          "contentUrl": "https://nh48.info/data/long-trails/arizona_trail.json",
          "encodingFormat": "application/json"
        }
      ],
      "hasPart": [
        {
          "@type": "Dataset",
          "name": "Appalachian Trail",
          "description": "Complete Appalachian Trail geometry and segment metadata.",
          "license": "https://creativecommons.org/licenses/by/4.0/",
          "creator": { "@type": "Person", "name": "Nathan Sobol", "url": "https://nh48.info" }
        },
        {
          "@type": "Dataset",
          "name": "Pacific Crest Trail",
          "description": "Pacific Crest Trail alignment with ordered segments.",
          "license": "https://creativecommons.org/licenses/by/4.0/",
          "creator": { "@type": "Person", "name": "Nathan Sobol", "url": "https://nh48.info" }
        },
        {
          "@type": "Dataset",
          "name": "Continental Divide Trail",
          "description": "Rockies-spanning Continental Divide Trail route data.",
          "license": "https://creativecommons.org/licenses/by/4.0/",
          "creator": { "@type": "Person", "name": "Nathan Sobol", "url": "https://nh48.info" }
        },
        {
          "@type": "Dataset",
          "name": "Arizona Trail",
          "description": "Arizona Trail thru-hike geometry and metadata.",
          "license": "https://creativecommons.org/licenses/by/4.0/",
          "creator": { "@type": "Person", "name": "Nathan Sobol", "url": "https://nh48.info" }
        }
      ]
    }
  </script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://nh48.info/" },
        { "@type": "ListItem", "position": 2, "name": "Long Trails" }
      ]
    }
  </script>
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    crossorigin=""
  />
  <link rel="stylesheet" href="../css/long_trails_app.css" />
  <style>
    * {
      box-sizing: border-box;
    }

    :root {
      --bg-primary: #1a1d23;
      --bg-secondary: #25282f;
      --bg-tertiary: #2d3039;
      --border-color: #3d4048;
      --text-primary: #ffffff;
      --text-secondary: #d9dde5;
      --accent: #4a9eff;
      --page-padding: clamp(16px, 4vw, 48px);
    }

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
    }

    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .page-header {
      margin: 1.5rem auto 0;
      padding: 0 var(--page-padding);
      width: 100%;
    }

    .page-header h1 {
      margin: 0 0 0.35rem;
      font-size: 2rem;
    }

    .page-header p {
      margin: 0.2rem 0;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    #app {
      width: 100%;
      margin: 1.5rem auto 2rem;
      padding: 0 var(--page-padding) 2rem;
      display: grid;
      grid-template-columns: minmax(320px, 460px) minmax(0, 1.35fr);
      gap: clamp(18px, 3vw, 28px);
      flex: 1 1 auto;
      min-height: 0;
      align-items: stretch;
    }

    .sidebar {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 16px;
      overflow-y: auto;
      overflow-x: hidden;
      min-height: 0;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .map-panel {
      border: 1px solid var(--border-color);
      border-radius: 12px;
      overflow: hidden;
      background: var(--bg-secondary);
      min-height: 480px;
    }

    #map {
      height: clamp(320px, 62vh, 720px);
      width: 100%;
      min-height: 320px;
    }

    .section-details {
      padding: 10px;
      border-radius: 4px;
      border: 1px solid var(--border-color);
      background: var(--bg-tertiary);
      margin-bottom: 16px;
    }

    .trail-directory-title {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-secondary);
      margin: 4px 2px 10px;
    }

    .trail-directory-title {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-secondary);
      margin: 4px 2px 10px;
    }

    .accordion {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .trail-details {
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background: var(--bg-tertiary);
      overflow: hidden;
    }

    .trail-summary {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      cursor: pointer;
      font-weight: 600;
      flex-wrap: wrap;
      min-height: 48px;
    }

    .trail-summary::marker {
      content: '';
    }

    .color-bar {
      width: 22px;
      height: 8px;
      border-radius: 3px;
      display: inline-block;
      flex: 0 0 auto;
      align-self: center;
    }

    .trail-name {
      flex: 1 1 auto;
      min-width: 0;
      line-height: 1.2;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .trail-count {
      flex: 0 0 auto;
      color: var(--text-secondary);
      font-weight: 500;
      white-space: nowrap;
    }

    .trail-meta {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin: 0 12px 10px;
    }

    .telemetry-note {
      font-size: 0.68rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: #e5e7eb;
      background: rgba(148, 163, 184, 0.2);
      border: 1px solid rgba(148, 163, 184, 0.4);
      border-radius: 6px;
      padding: 2px 6px;
      white-space: nowrap;
    }

    .telemetry-note {
      font-size: 0.72rem;
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #e5e7eb;
      background: rgba(148, 163, 184, 0.2);
      border: 1px solid rgba(148, 163, 184, 0.4);
      border-radius: 999px;
      padding: 2px 8px;
      white-space: nowrap;
    }

    .section-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      padding: 0 14px 14px;
    }

    .section-item {
      padding: 8px 10px;
      border-radius: 4px;
      border: 1px solid transparent;
      background: #20242b;
      cursor: pointer;
      transition: border-color 0.2s ease, background 0.2s ease;
      display: flex;
      flex-direction: column;
      gap: 4px;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .section-item:hover {
      border-color: var(--accent);
      background: #242833;
    }

    .section-title {
      font-weight: 600;
    }

    .section-subtitle {
      font-size: 0.85rem;
      color: var(--text-secondary);
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .geometry-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid #5c5f69;
      background: rgba(250, 204, 21, 0.15);
      color: #fcd34d;
      font-weight: 600;
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .section-actions {
      margin-top: 6px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .section-link {
      color: var(--accent);
      text-decoration: none;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .section-pan {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(32, 36, 43, 0.85);
      color: var(--text-secondary);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      cursor: pointer;
    }

    .section-pan:hover {
      color: var(--text-primary);
      border-color: var(--accent);
    }

    .empty-state {
      padding: 16px;
      border-radius: 8px;
      background: #20242b;
      border: 1px dashed var(--border-color);
      color: var(--text-secondary);
      margin-top: 12px;
    }

    .trail-label {
      color: #0f172a;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.75rem;
      font-weight: 600;
      border: 1px solid rgba(148, 163, 184, 0.7);
      box-shadow: 0 6px 14px rgba(15, 23, 42, 0.2);
      white-space: nowrap;
    }

    .trail-label span {
      display: inline-block;
      padding-left: 6px;
    }

    .trail-tooltip {
      color: #0f172a;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.75rem;
      font-weight: 700;
      border: 1px solid rgba(148, 163, 184, 0.7);
      box-shadow: 0 6px 14px rgba(15, 23, 42, 0.2);
      white-space: nowrap;
    }

    .trail-endpoint {
      font-size: 0.7rem;
      background: rgba(15, 23, 42, 0.85);
      color: #fff;
      border-radius: 6px;
      padding: 4px 6px;
      border: 1px solid #fff;
      white-space: nowrap;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .breadcrumbs {
      margin: 0.35rem 0 0.75rem;
      padding: 0;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .breadcrumbs ol {
      list-style: none;
      display: flex;
      gap: 0.35rem;
      padding: 0;
      margin: 0;
      align-items: center;
      flex-wrap: wrap;
    }

    .breadcrumbs a {
      color: var(--accent);
      text-decoration: none;
    }

    .breadcrumbs a:hover,
    .breadcrumbs a:focus-visible {
      text-decoration: underline;
    }

    .breadcrumbs li::after {
      content: '/';
      margin-left: 0.35rem;
      color: var(--text-secondary);
    }

    .breadcrumbs li:last-child::after {
      content: '';
    }

    @media (max-width: 1100px){
      #app {
        grid-template-columns: minmax(300px, 420px) minmax(0, 1fr);
      }
    }

    @media (max-width: 900px) {
      #app {
        grid-template-columns: 1fr;
        grid-auto-rows: auto;
        padding: 0 var(--page-padding) clamp(80px, 12vh, 120px);
        gap: 16px;
      }

      .map-panel {
        order: 1;
        min-height: unset;
      }

      #map {
        height: clamp(260px, 50vh, 420px);
        min-height: 260px;
      }

      .sidebar {
        order: 2;
        max-height: none;
      }
    }

    @media (max-width: 700px){
      .page-header {
        margin-top: 1rem;
      }

      .map-panel {
        min-height: 360px;
      }
    }

    @media (max-width: 520px){
      :root {
        --page-padding: 14px;
      }

      .page-header h1 {
        font-size: 1.6rem;
      }

      .sidebar {
        padding: 12px;
      }

      .section-details,
      .trail-details {
        padding: 10px;
      }

      .section-item {
        padding: 10px;
      }

      .map-panel {
        min-height: 320px;
      }
    }
  </style>
</head>
<body data-route="long-trails" data-page="long-trails">
  <div id="nav-placeholder"></div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const navPlaceholder = document.getElementById('nav-placeholder');
        const activeRoute = document.body.dataset.route || document.body.dataset.page;

      if (navPlaceholder) {
        fetch('/pages/nav.html')
          .then(response => response.text())
          .then(html => {
            navPlaceholder.innerHTML = html;
            const links = navPlaceholder.querySelectorAll('.site-nav-links a');
            links.forEach(link => {
              const routes = (link.dataset.routes || link.dataset.route || '')
                .split(',')
                .map(value => value.trim())
                .filter(Boolean);

              if (routes.includes(activeRoute)) {
                link.classList.add('active');
                link.setAttribute('aria-current', 'page');
              }
            });
          })
          .catch(err => console.error('Failed to load navigation:', err));
      }

      });
    </script>
  <header class="page-header">
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <ol>
        <li><a href="/">Home</a></li>
        <li aria-current="page">Long Trails</li>
      </ol>
    </nav>
    <h1>Long-Distance Trails</h1>
    <p>Explore multi-day trail campaigns with interactive maps, filters, and section details.</p>
    <p>Click a section to view details, then click “View section” for the full section page.</p>
  </header>

  <main id="app">
    <aside class="sidebar" aria-live="polite">
      <div id="sectionDetails" class="section-details"></div>
      <div class="trail-directory-title">Trail segments</div>
      <div id="trailList" class="accordion"></div>
    </aside>
    <section class="map-panel" aria-label="Long-distance trails map" aria-describedby="long-trails-map-description">
      <div id="map" role="img" aria-label="Interactive map of long-distance trails and sections"></div>
      <p id="long-trails-map-description" class="sr-only">High-contrast map background with bold teal route lines, large circular section markers, and text labels so trails stay legible across zoom levels. Popups summarize the segment name, mileage, and nearby waypoints. Keyboard users can tab into the map controls to pan or zoom.</p>
    </section>
  </main>

  <section id="seo-trails" class="sr-only" aria-label="Long-distance trail sections index">
    <h2>Trail Sections Index</h2>
    <article>
      <h3>Allegheny Trail (ALT)</h3>
      <ul>
      <li>Section 1: Mason-Dixon to Blackwater Falls</li>
      <li>Section 2: Blackwater Falls to Cass</li>
      <li>Section 3: Cass to Lake Sherwood</li>
      <li>Section 4: Lake Sherwood to Peters Mountain</li>
      </ul>
    </article>
    <article>
      <h3>American Discovery Trail (American Discovery Trail)</h3>
      <ul>
      <li>Delaware</li>
      <li>Maryland & Washington, D.C.</li>
      <li>West Virginia</li>
      <li>Ohio & Kentucky</li>
      <li>Western Ohio (Northern Route)</li>
      <li>Indiana (Northern Route)</li>
      <li>Illinois (Northern Route)</li>
      <li>Iowa (Northern Route)</li>
      <li>Nebraska (Northern Route)</li>
      <li>Northeastern Colorado (Northern Route)</li>
      <li>Indiana (Southern Route)</li>
      <li>Illinois (Southern Route)</li>
      <li>Missouri (Southern Route)</li>
      <li>Kansas (Southern Route)</li>
      <li>Southeastern Colorado (Southern Route)</li>
      <li>Western Colorado</li>
      <li>Utah</li>
      <li>Nevada</li>
      <li>California</li>
      </ul>
    </article>
    <article>
      <h3>Appalachian Trail (AT)</h3>
      <ul>
      <li>Springer Mountain → Neels Gap</li>
      <li>Neels Gap → Blood Mountain</li>
      <li>Blood Mountain → Bly Gap (GA–NC Border)</li>
      <li>Bly Gap → Nantahala Outdoor Center</li>
      <li>Nantahala Outdoor Center → Fontana Dam</li>
      <li>Fontana Dam → Newfound Gap</li>
      <li>Newfound Gap → Davenport Gap</li>
      <li>Davenport Gap → Hot Springs</li>
      <li>Hot Springs → Erwin</li>
      <li>Erwin → US-19E (Roan Highlands)</li>
      <li>US-19E → Watauga Lake</li>
      <li>Watauga Lake → Damascus</li>
      <li>Damascus → Fox Creek (VA-603)</li>
      <li>Fox Creek → Atkins (I-81/US-11)</li>
      <li>Atkins → Bland (VA-52/I-77)</li>
      <li>Bland → Pearisburg</li>
      <li>Pearisburg → Catawba (VA-311)</li>
      <li>Catawba → Daleville</li>
      <li>Daleville → Buena Vista (US-60)</li>
      <li>Buena Vista → Waynesboro (Rockfish Gap)</li>
      <li>Rockfish Gap → Swift Run Gap</li>
      <li>Swift Run Gap → Front Royal</li>
      <li>Front Royal → Harpers Ferry</li>
      <li>Harpers Ferry → Mason–Dixon Line</li>
      <li>Mason–Dixon Line → Duncannon</li>
      <li>Duncannon → Port Clinton</li>
      <li>Port Clinton → Delaware Water Gap</li>
      <li>Delaware Water Gap → NJ–NY State Line</li>
      <li>NJ–NY State Line → Bear Mountain Bridge</li>
      <li>Bear Mountain → Connecticut Line</li>
      <li>Connecticut (NY Line → MA Line)</li>
      <li>Massachusetts South (CT Line → Dalton)</li>
      <li>Massachusetts North (Dalton → VT Line)</li>
      <li>Vermont South (MA Line → US-4/Rutland)</li>
      <li>Vermont North (Rutland → NH Line)</li>
      <li>Hanover → Franconia Notch</li>
      <li>Franconia Notch → Crawford Notch</li>
      <li>Crawford Notch → Gorham</li>
      <li>Gorham → Maine State Line</li>
      <li>Maine South (NH Line → ME-27 Stratton)</li>
      <li>Maine Central (Stratton → Monson)</li>
      <li>Maine North (Monson → Katahdin)</li>
      </ul>
    </article>
    <article>
      <h3>Appalachian Trail (AT)</h3>
      <ul>
      <li>Springer Mountain → Neels Gap</li>
      <li>Neels Gap → Blood Mountain</li>
      <li>Blood Mountain → Bly Gap (GA–NC Border)</li>
      <li>Bly Gap → Nantahala Outdoor Center</li>
      <li>Nantahala Outdoor Center → Fontana Dam</li>
      <li>Fontana Dam → Newfound Gap</li>
      <li>Newfound Gap → Davenport Gap</li>
      <li>Davenport Gap → Hot Springs</li>
      <li>Hot Springs → Erwin</li>
      <li>Erwin → US-19E (Roan Highlands)</li>
      <li>US-19E → Watauga Lake</li>
      <li>Watauga Lake → Damascus</li>
      <li>Damascus → Fox Creek (VA-603)</li>
      <li>Fox Creek → Atkins (I-81/US-11)</li>
      <li>Atkins → Bland (VA-52/I-77)</li>
      <li>Bland → Pearisburg</li>
      <li>Pearisburg → Catawba (VA-311)</li>
      <li>Catawba → Daleville</li>
      <li>Daleville → Buena Vista (US-60)</li>
      <li>Buena Vista → Waynesboro (Rockfish Gap)</li>
      <li>Rockfish Gap → Swift Run Gap</li>
      <li>Swift Run Gap → Front Royal</li>
      <li>Front Royal → Harpers Ferry</li>
      <li>Harpers Ferry → Mason–Dixon Line</li>
      <li>Mason–Dixon Line → Duncannon</li>
      <li>Duncannon → Port Clinton</li>
      <li>Port Clinton → Delaware Water Gap</li>
      <li>Delaware Water Gap → NJ–NY State Line</li>
      <li>NJ–NY State Line → Bear Mountain Bridge</li>
      <li>Bear Mountain → Connecticut Line</li>
      <li>Connecticut (NY Line → MA Line)</li>
      <li>Massachusetts South (CT Line → Dalton)</li>
      <li>Massachusetts North (Dalton → VT Line)</li>
      <li>Vermont South (MA Line → US-4/Rutland)</li>
      <li>Vermont North (Rutland → NH Line)</li>
      <li>Hanover → Franconia Notch</li>
      <li>Franconia Notch → Crawford Notch</li>
      <li>Crawford Notch → Gorham</li>
      <li>Gorham → Maine State Line</li>
      <li>Maine South (NH Line → ME-27 Stratton)</li>
      <li>Maine Central (Stratton → Monson)</li>
      <li>Maine North (Monson → Katahdin)</li>
      </ul>
    </article>
    <article>
      <h3>Arizona Trail (AZT)</h3>
      <ul>
      <li>Mexico Border → Parker Canyon Lake</li>
      <li>Parker Canyon Lake → Canelo Pass</li>
      <li>Canelo Pass → Highway 82 (Patagonia)</li>
      <li>Highway 82 (Patagonia) → Apache Springs Trailhead</li>
      <li>Apache Springs Trailhead → Oak Tree Canyon</li>
      <li>Oak Tree Canyon → Lakes Road (Las Colinas)</li>
      <li>Lakes Road → Gabe Zimmerman Trailhead</li>
      <li>Gabe Zimmerman TH → Rincon Valley</li>
      <li>Rincon Valley → Redington Road</li>
      <li>Redington Road → Gordon Hirabayashi (Prison Camp)</li>
      <li>Gordon Hirabayashi → Marshall Gulch</li>
      <li>Marshall Gulch → Red Ridge (Oracle SP)</li>
      <li>Red Ridge → Oracle (Tiger Mine Road)</li>
      <li>Oracle (Tiger Mine) → Freeman Road</li>
      <li>Freeman Road → Gila River</li>
      <li>Gila River → Tonto NF Boundary</li>
      <li>Tonto NF Boundary → Alamo Canyon</li>
      <li>Picketpost (Alamo Canyon) → Rogers Trough</li>
      <li>Rogers Trough → Roosevelt Lake (AZ-188)</li>
      <li>Roosevelt Lake → Pine Mountain (AZ-87)</li>
      <li>AZ-87 (Sunflower) → Pigeon Spring (Mazatzal)</li>
      <li>Pigeon Spring → Mount Peeley Trailhead</li>
      <li>Mount Peeley → Red Hills (Mazatzal Divide)</li>
      <li>Red Hills → East Verde River</li>
      <li>East Verde River → Pine Trailhead</li>
      <li>Pine Trailhead → Mogollon Rim (Highline)</li>
      <li>Mogollon Rim → Blue Ridge Ranger Station</li>
      <li>Blue Ridge → Happy Jack</li>
      <li>Happy Jack → Mormon Lake</li>
      <li>Mormon Lake → Marshall Lake</li>
      <li>Marshall Lake → I-40 (Walnut Canyon)</li>
      <li>I-40 (Flagstaff) → Schultz Pass (Elden)</li>
      <li>Schultz Pass → Moquitch (Boundary)</li>
      <li>FR 418 (N. Peaks) → Moqui Stage Station</li>
      <li>Moqui Stage Station → Grandview Tower</li>
      <li>Grandview Tower → South Kaibab Trailhead</li>
      <li>South Kaibab → North Kaibab (Inner Gorge)</li>
      <li>North Kaibab TH → Park Boundary</li>
      <li>Park Boundary → Telephone Hill (Kaibab S)</li>
      <li>Telephone Hill → Orderville (Kaibab C)</li>
      <li>Orderville → Winter Road (Kaibab N)</li>
      <li>Winter Road → Stateline Campground</li>
      </ul>
    </article>
    <article>
      <h3>Baja Divide (Baja Divide)</h3>
      <ul>
      <li>San Diego to Tecate</li>
      <li>Tecate to Ojos Negros</li>
      <li>Ojos Negros to Santo Tomás</li>
      <li>Santo Tomás to Colonet</li>
      <li>Colonet to Vicente Guerrero</li>
      <li>Vicente Guerrero to Nueva Odisea</li>
      <li>Nueva Odisea to Cataviña</li>
      <li>Cataviña to Santa Rosalillita</li>
      <li>Santa Rosalillita to Bahía de los Ángeles</li>
      <li>Bahía de los Ángeles to Vizcaíno</li>
      <li>Vizcaíno to San Ignacio</li>
      <li>San Ignacio to El Dátil</li>
      <li>El Dátil to Mulegé</li>
      <li>Mulegé to El Rosarito</li>
      <li>El Rosarito to Ciudad Constitución</li>
      <li>Ciudad Constitución to La Paz</li>
      <li>La Paz to La Ribera</li>
      <li>La Ribera to San José del Cabo</li>
      <li>San José del Cabo to Todos Santos</li>
      <li>Todos Santos to La Paz</li>
      </ul>
    </article>
    <article>
      <h3>Benton MacKaye Trail (BMT)</h3>
      <ul>
      <li>Springer Mountain to Big Stamp Gap</li>
      <li>Big Stamp Gap to 2nd Cross Trails</li>
      <li>2nd Cross Trails to Three Forks</li>
      <li>Three Forks to No Name Gap</li>
      <li>No Name Gap to Bryson Gap</li>
      <li>Bryson Gap to Toccoa River</li>
      <li>Toccoa River to GA Hwy 60 (Little Skeenah)</li>
      <li>GA 60 (Little Skeenah) to Wallalah-Licklog Saddle</li>
      <li>Wallalah-Licklog Saddle to Licklog-Rhodes Saddle</li>
      <li>Licklog-Rhodes Saddle to Skeenah Gap</li>
      <li>Skeenah Gap to Payne Gap</li>
      <li>Payne Gap to Wilscot Gap (GA Hwy 60)</li>
      <li>Wilscot Gap (GA 60) to Ledford Gap</li>
      <li>Ledford Gap to Brawley Mountain</li>
      <li>Brawley Mountain to Dial Road</li>
      <li>Dial Road to Shallowford Bridge</li>
      <li>Shallowford Bridge to Fall Branch (Stanley Creek Road)</li>
      <li>Fall Branch to Stanley Gap Trail Junction</li>
      <li>Stanley Gap Trail to Rich Mountain (old trail)</li>
      <li>Stanley Gap Trail to Weaver/Laurel Creek Road</li>
      <li>Weaver/Laurel Creek Road to GA Hwy 515</li>
      <li>GA 515 to Sisson’s Shelter spur</li>
      <li>Sisson’s Shelter to Boardtown Road</li>
      <li>Boardtown Road to Bushy Head Gap</li>
      <li>Bushy Head Gap to Hudson Gap</li>
      <li>Hudson Gap to McKenney Gap</li>
      <li>McKenney Gap to Hatley Gap</li>
      <li>Hatley Gap to Fowler Mountain</li>
      <li>Fowler Mountain to Holloway Gap</li>
      <li>Holloway Gap to Double Hogpen Gap</li>
      <li>Double Hogpen Gap to Flat Top Mountain</li>
      <li>Flat Top Mountain to Dyer Gap</li>
      <li>Dyer Gap to Pinhoti Trail Intersection (South Fork)</li>
      <li>Pinhoti Intersection to Pate Gap</li>
      <li>Pate Gap to Watson Gap</li>
      <li>Watson Gap to Jacks River Trail (Dally Gap)</li>
      <li>Jacks River Trail to Hemp Top Trail</li>
      <li>Hemp Top Trail to Hemp Top (Peak)</li>
      <li>Hemp Top to Double Spring Gap</li>
      <li>Double Spring Gap to Big Frog Mountain</li>
      <li>Big Frog Mountain to Fork Ridge Trail Jct</li>
      <li>Fork Ridge Trail to Rough Creek Trail Jct</li>
      <li>Rough Creek Trail to USFS Road 221</li>
      <li>USFS 221 to US Hwy 64 (Ocoee River)</li>
      <li>US 64 (Ocoee) to Dry Pond Lead High Point</li>
      <li>Dry Pond Lead to Kimsey Highway (FS 68)</li>
      <li>Kimsey Highway to McFarland Road (FS 23)</li>
      <li>McFarland Road to White Oak Flats (FS 103)</li>
      <li>White Oak Flats (Lost Creek) to FS 173 (Trestle)</li>
      <li>Trestle (FS 173) to Childers Creek (John Muir Trail)</li>
      <li>Childers Creek (JMT) to Big Bend</li>
      <li>Big Bend to Towee Creek</li>
      <li>Towee Creek to Wildcat Creek</li>
      <li>Wildcat Creek to FS 22B (Coker Creek)</li>
      <li>FS 22B (Coker Creek) to TN Hwy 68 (Unicoi Mountain Trail)</li>
      <li>TN 68 to Buck Bald Road</li>
      <li>Buck Bald Road to Unicoi Gap (TN/NC state line)</li>
      <li>Unicoi Gap to Tate Gap</li>
      <li>Tate Gap to Sixmile Gap</li>
      <li>Sixmile Gap to Sandy Gap</li>
      <li>Sandy Gap to Round Top (TN/NC state line)</li>
      <li>Round Top to Sled Runner Gap</li>
      <li>Sled Runner Gap to Brookshire Creek crossing</li>
      <li>Brookshire Creek to Sugar Mountain Road</li>
      <li>Sugar Mountain Road to Tellico River Road (FS 210)</li>
      <li>Tellico River Road (Green Cove) to Mangan Branch</li>
      <li>Mangan Branch to FS 61B (Sycamore Creek Trail)</li>
      <li>FS 61B (Sycamore Creek TH) to Mud Gap</li>
      <li>Mud Gap (Cherohala) to Beech Gap (Nantahala NF)</li>
      <li>Beech Gap to Haoe Lead (Southwest) Intersection</li>
      <li>Haoe Lead (SW) to Hangover Lead Trail Jct</li>
      <li>Haoe Lead (Northeast) to Big Fat Gap</li>
      <li>Big Fat Gap to Yellowhammer Gap</li>
      <li>Yellowhammer Gap to Tapoco Lodge (US 129)</li>
      <li>Tapoco Lodge (US 129) to Old Field Gap Road</li>
      <li>Old Field Gap Road to FS 251C (Fontana East)</li>
      <li>FS 251C to Fontana Lodge</li>
      <li>Fontana Lodge to AT Intersection (Fontana Hilton)</li>
      <li>AT Intersection to Fontana Dam (Northern Terminus)</li>
      <li>Fontana Dam to Eagle Creek Trail (Lakeshore Trail)</li>
      <li>Eagle Creek Trail to Campsite 86 (Hazel Creek)</li>
      <li>Campsite 86 to Campsite 77 (Hazel–Forney)</li>
      <li>Campsite 77 to Campsite 98 (Lakeshore–Forney)</li>
      <li>Campsite 98 to Campsite 74 (Lakeshore Trail)</li>
      <li>Campsite 74 to Noland Creek Trail Junction</li>
      <li>Noland Creek Trail to Noland Divide Trail Junction</li>
      <li>Noland Divide Trail to Deep Creek Trail (Mingus Creek/MST)</li>
      <li>Deep Creek Trail / MST to Campsite 52</li>
      <li>Campsite 52 (Deep Creek) to Smokemont Campground</li>
      <li>Smokemont Campground to Campsite 47 (Enloe Creek)</li>
      <li>Campsite 47 (Enloe) to Straight Fork Road</li>
      <li>Straight Fork Road to Laurel Gap Shelter</li>
      <li>Laurel Gap Shelter to Big Creek (Northern Terminus)</li>
      </ul>
    </article>
    <article>
      <h3>Bruce Trail</h3>
      <ul>

      </ul>
    </article>
    <article>
      <h3>Buckeye Trail (BT)</h3>
      <ul>
      <li>Burton Section</li>
      <li>Bedford Section</li>
      <li>Akron Section</li>
      <li>Mogadore Section</li>
      <li>Massillon Section</li>
      <li>Bowerston Section</li>
      <li>Belle Valley Section</li>
      <li>Stockport Section</li>
      <li>Road Fork Section</li>
      <li>Whipple Section</li>
      <li>New Straitsville Section</li>
      <li>Old Man's Cave Section</li>
      <li>Shawnee Section</li>
      <li>West Union Section</li>
      <li>Williamsburg Section</li>
      <li>Loveland Section</li>
      <li>Wilmington Section</li>
      <li>Dayton Section</li>
      <li>Troy Section</li>
      <li>St. Marys Section</li>
      <li>Delphos Section</li>
      <li>Defiance Section</li>
      <li>Pemberville Section</li>
      <li>Norwalk Section</li>
      <li>Medina Section</li>
      <li>Cleveland Section</li>
      </ul>
    </article>
    <article>
      <h3>California Trail (CT)</h3>
      <ul>
      <li>Missouri / Kansas</li>
      <li>Nebraska</li>
      <li>Wyoming</li>
      <li>Idaho / Utah</li>
      <li>Nevada</li>
      <li>California</li>
      </ul>
    </article>
    <article>
      <h3>Camino Real de Tierra Adentro (Camino Real de Tierra Adentro)</h3>
      <ul>

      </ul>
    </article>
    <article>
      <h3>Continental Divide Trail (CDT)</h3>
      <ul>
      <li>Crazy Cook Monument → Cumbres Pass (NM–CO Border)</li>
      <li>Cumbres Pass → Wyoming State Line</li>
      <li>Wyoming State Line → Idaho State Line (Yellowstone)</li>
      <li>Idaho State Line (Yellowstone) → Chief Joseph Pass (MT–ID Border)</li>
      <li>Chief Joseph Pass → Waterton Lake (Northern Terminus)</li>
      </ul>
    </article>
    <article>
      <h3>Desert Trail (Desert Trail)</h3>
      <ul>
      <li>California</li>
      <li>Nevada</li>
      <li>Oregon</li>
      <li>Idaho & Washington</li>
      </ul>
    </article>
    <article>
      <h3>East Coast Trail</h3>
      <ul>
      <li>Long Shore Path</li>
      <li>Piccos Ridge Path</li>
      <li>White Horse Path</li>
      <li>Biscan Cove Path</li>
      <li>Stiles Cove Path</li>
      <li>Father Troy's Trail</li>
      <li>Silver Mine Head Path</li>
      <li>Cobblers Path</li>
      <li>Sugarloaf Path</li>
      <li>Deadmans Bay Path</li>
      <li>Cape Spear Path</li>
      <li>Motion Path</li>
      <li>Spout Path</li>
      <li>Mickeleens Path</li>
      <li>Beaches Path</li>
      <li>Tinkers Point Path</li>
      <li>La Manche Village Path</li>
      <li>Flamber Head Path</li>
      <li>Brigus Head Path</li>
      <li>Cape Broyle Head Path</li>
      <li>Caplin Bay Path</li>
      <li>Sounding Hills Path</li>
      <li>Spurwink Island Path</li>
      <li>Bear Cove Path</li>
      <li>Island Meadow Path</li>
      </ul>
    </article>
    <article>
      <h3>Arizona Trail (AZT)</h3>
      <ul>
      <li>Mexico Border → Parker Canyon Lake</li>
      <li>Parker Canyon Lake → Canelo Pass</li>
      <li>Canelo Pass → Highway 82 (Patagonia)</li>
      <li>Highway 82 (Patagonia) → Apache Springs Trailhead</li>
      <li>Apache Springs Trailhead → Oak Tree Canyon</li>
      <li>Oak Tree Canyon → Lakes Road (Las Colinas)</li>
      <li>Lakes Road → Gabe Zimmerman Trailhead</li>
      <li>Gabe Zimmerman TH → Rincon Valley</li>
      <li>Rincon Valley → Redington Road</li>
      <li>Redington Road → Gordon Hirabayashi (Prison Camp)</li>
      <li>Gordon Hirabayashi → Marshall Gulch</li>
      <li>Marshall Gulch → Red Ridge (Oracle SP)</li>
      <li>Red Ridge → Oracle (Tiger Mine Road)</li>
      <li>Oracle (Tiger Mine) → Freeman Road</li>
      <li>Freeman Road → Gila River</li>
      <li>Gila River → Tonto NF Boundary</li>
      <li>Tonto NF Boundary → Alamo Canyon</li>
      <li>Picketpost (Alamo Canyon) → Rogers Trough</li>
      <li>Rogers Trough → Roosevelt Lake (AZ-188)</li>
      <li>Roosevelt Lake → Pine Mountain (AZ-87)</li>
      <li>AZ-87 (Sunflower) → Pigeon Spring (Mazatzal)</li>
      <li>Pigeon Spring → Mount Peeley Trailhead</li>
      <li>Mount Peeley → Red Hills (Mazatzal Divide)</li>
      <li>Red Hills → East Verde River</li>
      <li>East Verde River → Pine Trailhead</li>
      <li>Pine Trailhead → Mogollon Rim (Highline)</li>
      <li>Mogollon Rim → Blue Ridge Ranger Station</li>
      <li>Blue Ridge → Happy Jack</li>
      <li>Happy Jack → Mormon Lake</li>
      <li>Mormon Lake → Marshall Lake</li>
      <li>Marshall Lake → I-40 (Walnut Canyon)</li>
      <li>I-40 (Flagstaff) → Schultz Pass (Elden)</li>
      <li>Schultz Pass → Moquitch (Boundary)</li>
      <li>FR 418 (N. Peaks) → Moqui Stage Station</li>
      <li>Moqui Stage Station → Grandview Tower</li>
      <li>Grandview Tower → South Kaibab Trailhead</li>
      <li>South Kaibab → North Kaibab (Inner Gorge)</li>
      <li>North Kaibab TH → Park Boundary</li>
      <li>Park Boundary → Telephone Hill (Kaibab S)</li>
      <li>Telephone Hill → Orderville (Kaibab C)</li>
      <li>Orderville → Winter Road (Kaibab N)</li>
      <li>Winter Road → Stateline Campground</li>
      </ul>
    </article>
    <article>
      <h3>Grand Enchantment Trail (GET)</h3>
      <ul>
      <li>Superstition Wilderness</li>
      <li>Reavis Canyon</li>
      <li>White Canyon Wilderness</li>
      <li>Tortilla Mountains</li>
      <li>Antelope Peak</li>
      <li>Brandenburg Mountain</li>
      <li>Aravaipa Canyon Wilderness</li>
      <li>Santa Teresa Wilderness</li>
      <li>Underwood Canyon</li>
      <li>Pinaleno Mountains</li>
      <li>Gila Valley South</li>
      <li>Gila Valley North</li>
      <li>Old Safford-Morenci Trail</li>
      <li>Eagle Creek - Painted Bluffs</li>
      <li>Coronado Trail</li>
      <li>Blue River</li>
      <li>Maple Peak</li>
      <li>Sunflower Mesa</li>
      <li>Whitewater Mesa</li>
      <li>Mogollon Mountains</li>
      <li>West Fork Gila River</li>
      <li>Middle and East Fork Gila River</li>
      <li>South Diamond Creek</li>
      <li>Black Range Crest</li>
      <li>Lookout Mountain</li>
      <li>Dolan Peak</li>
      <li>Monticello Box</li>
      <li>Apache Kid Wilderness</li>
      <li>Withington Wilderness</li>
      <li>Milligan Gulch</li>
      <li>Magdalena Mountains</li>
      <li>San Lorenzo Canyon</li>
      <li>Sevilleta Trace</li>
      <li>Manzano Mountains South</li>
      <li>Manzano Mountain Wilderness</li>
      <li>Manzanita Mountains South</li>
      <li>Manzanita Mountains North</li>
      <li>Sandia Mountain Wilderness</li>
      <li>Sandia Crest</li>
      </ul>
    </article>
    <article>
      <h3>Great Divide Trail (Canada) (Great Divide Trail)</h3>
      <ul>
      <li>Section A: Waterton Lakes (International Boundary) to Coleman</li>
      <li>Section B: Coleman to Kananaskis (Elk Pass)</li>
      <li>Section C: Kananaskis to Field</li>
      <li>Section D: Field to Saskatchewan River Crossing</li>
      <li>Section E: Saskatchewan Crossing to Jasper</li>
      <li>Section F: Jasper to Mount Robson</li>
      <li>Section G: Mount Robson to Kakwa Lake</li>
      </ul>
    </article>
    <article>
      <h3>Great Western Loop (Great Western Loop)</h3>
      <ul>
      <li>Mojave and Sonoran Desert Connector</li>
      <li>Pacific Crest Trail Section</li>
      <li>Pacific Northwest Trail Section</li>
      <li>Continental Divide Trail Section</li>
      <li>Grand Enchantment Trail Section</li>
      <li>Arizona Trail Section</li>
      </ul>
    </article>
    <article>
      <h3>Hayduke Trail (Hayduke)</h3>
      <ul>
      <li>Arches NP (Salt Valley) to Hurrah Pass</li>
      <li>Hurrah Pass to Big Spring TH (Canyonlands)</li>
      <li>Big Spring TH to Hite, UT</li>
      <li>Hite to Poison Springs Canyon</li>
      <li>Poison Springs Canyon to Burr Trail (Capitol Reef)</li>
      <li>Burr Trail to Hole-in-the-Rock Road</li>
      <li>Hole-in-the-Rock Road to Round Valley Draw</li>
      <li>Round Valley Draw to Willis Creek</li>
      <li>Willis Creek to AZ Trail Stateline TH</li>
      <li>Stateline Trailhead to Nankoweap Trailhead (GCNP)</li>
      <li>Nankoweap Trailhead to Horseshoe Mesa (Grand Canyon)</li>
      <li>Horseshoe Mesa to North Rim (Grand Canyon)</li>
      <li>North Rim (GCNP) to Hack Canyon, AZ</li>
      <li>Hack Canyon to Weeping Wall (Zion NP)</li>
      </ul>
    </article>
    <article>
      <h3>Appalachian Trail (AT)</h3>
      <ul>
      <li>Springer Mountain → Neels Gap</li>
      <li>Neels Gap → Blood Mountain</li>
      <li>Blood Mountain → Bly Gap (GA–NC Border)</li>
      <li>Bly Gap → Nantahala Outdoor Center</li>
      <li>Nantahala Outdoor Center → Fontana Dam</li>
      <li>Fontana Dam → Newfound Gap</li>
      <li>Newfound Gap → Davenport Gap</li>
      <li>Davenport Gap → Hot Springs</li>
      <li>Hot Springs → Erwin</li>
      <li>Erwin → US-19E (Roan Highlands)</li>
      <li>US-19E → Watauga Lake</li>
      <li>Watauga Lake → Damascus</li>
      <li>Damascus → Fox Creek (VA-603)</li>
      <li>Fox Creek → Atkins (I-81/US-11)</li>
      <li>Atkins → Bland (VA-52/I-77)</li>
      <li>Bland → Pearisburg</li>
      <li>Pearisburg → Catawba (VA-311)</li>
      <li>Catawba → Daleville</li>
      <li>Daleville → Buena Vista (US-60)</li>
      <li>Buena Vista → Waynesboro (Rockfish Gap)</li>
      <li>Rockfish Gap → Swift Run Gap</li>
      <li>Swift Run Gap → Front Royal</li>
      <li>Front Royal → Harpers Ferry</li>
      <li>Harpers Ferry → Mason–Dixon Line</li>
      <li>Mason–Dixon Line → Duncannon</li>
      <li>Duncannon → Port Clinton</li>
      <li>Port Clinton → Delaware Water Gap</li>
      <li>Delaware Water Gap → NJ–NY State Line</li>
      <li>NJ–NY State Line → Bear Mountain Bridge</li>
      <li>Bear Mountain → Connecticut Line</li>
      <li>Connecticut (NY Line → MA Line)</li>
      <li>Massachusetts South (CT Line → Dalton)</li>
      <li>Massachusetts North (Dalton → VT Line)</li>
      <li>Vermont South (MA Line → US-4/Rutland)</li>
      <li>Vermont North (Rutland → NH Line)</li>
      <li>Hanover → Franconia Notch</li>
      <li>Franconia Notch → Crawford Notch</li>
      <li>Crawford Notch → Gorham</li>
      <li>Gorham → Maine State Line</li>
      <li>Maine South (NH Line → ME-27 Stratton)</li>
      <li>Maine Central (Stratton → Monson)</li>
      <li>Maine North (Monson → Katahdin)</li>
      </ul>
    </article>
    <article>
      <h3>Long Trail</h3>
      <ul>
      <li>MA Border to VT-9 (Bennington)</li>
      <li>VT-9 to VT-11/30 (Manchester)</li>
      <li>VT-11/30 to US-4 (Killington)</li>
      <li>US-4 to VT-17 (Appalachian Gap)</li>
      <li>VT-17 to VT-108 (Smugglers’ Notch)</li>
      <li>VT-108 to Canadian Border (Journey’s End)</li>
      </ul>
    </article>
    <article>
      <h3>Mormon Pioneer Trail (Mormon Pioneer Trail)</h3>
      <ul>

      </ul>
    </article>
    <article>
      <h3>Nez Perce (Nee-Me-Poo) National Historic Trail (Nez Perce Trail)</h3>
      <ul>
      <li>Imnaha River to Snake Crossing</li>
      <li>White Bird Canyon (Idaho)</li>
      <li>Lolo Trail (Bitterroot Mountains)</li>
      <li>Gibbons Pass to Big Hole (Montana)</li>
      <li>Overland Trail (Idaho & Yellowstone Route)</li>
      <li>Yellowstone Segment</li>
      <li>Missouri River Breaks to Bear Paw</li>
      </ul>
    </article>
    <article>
      <h3>North Country National Scenic Trail (NCT)</h3>
      <ul>
      <li>Lake Sakakawea SP → Fort Abercrombie (ND–MN Line)</li>
      <li>Fort Abercrombie → Minnesota–Wisconsin Line</li>
      <li>Minnesota Line → Michigan (Upper Peninsula) Line</li>
      <li>Michigan (Upper Peninsula) Line → Mackinac Bridge</li>
      <li>Mackinac Bridge → Ohio Line (Lower Michigan)</li>
      <li>Michigan Line → Little Miami (Cincinnati Area)</li>
      <li>Little Miami → Pennsylvania Line</li>
      <li>Ohio Line → New York Line (PA Segment)</li>
      <li>Pennsylvania Line → Adirondack Park</li>
      <li>Adirondack Park → Lake Champlain (NY–VT Line)</li>
      <li>Lake Champlain → Appalachian Trail (VT)</li>
      </ul>
    </article>
    <article>
      <h3>Oregon Trail (OT)</h3>
      <ul>
      <li>Missouri / Kansas</li>
      <li>Nebraska</li>
      <li>Wyoming</li>
      <li>Idaho (Snake River Plain)</li>
      <li>Oregon</li>
      </ul>
    </article>
    <article>
      <h3>Ozark Highlands Trail (OHT)</h3>
      <ul>
      <li>Lake Fort Smith to White Rock Mountain</li>
      <li>White Rock Mountain to Cherry Bend</li>
      <li>Cherry Bend to Lick Branch</li>
      <li>Lick Branch to Ozone Campground</li>
      <li>Ozone Campground to Big Piney (Fort Douglas)</li>
      <li>Big Piney (Fort Douglas) to Fairview Campground</li>
      <li>Fairview Campground to Richland Creek</li>
      <li>Richland Creek to Woolum (Buffalo River)</li>
      <li>Buffalo River: Woolum to AR-14 (Dillard’s Ferry)</li>
      <li>Sylamore Section: Spring Creek to Matney Knob</li>
      </ul>
    </article>
    <article>
      <h3>Pacific Crest Trail (PCT)</h3>
      <ul>
      <li>Campo → Warner Springs</li>
      <li>Warner Springs → Interstate 10 (San Gorgonio Pass)</li>
      <li>Interstate 10 → Interstate 15 (Cajon Pass)</li>
      <li>Cajon Pass → Agua Dulce</li>
      <li>Agua Dulce → Tehachapi Pass</li>
      <li>Tehachapi Pass → Walker Pass</li>
      <li>Walker Pass → Crabtree Meadow</li>
      <li>Crabtree Meadow → Tuolumne Meadows</li>
      <li>Tuolumne Meadows → Sonora Pass</li>
      <li>Sonora Pass → Echo Lake</li>
      <li>Echo Lake → Donner Summit</li>
      <li>Donner Summit → Sierra City</li>
      <li>Sierra City → Belden</li>
      <li>Belden → Burney Falls</li>
      <li>Burney Falls → Interstate 5 (Castella)</li>
      <li>Interstate 5 → Etna Summit</li>
      <li>Etna Summit → Seiad Valley</li>
      <li>Seiad Valley → California–Oregon Border</li>
      <li>California–Oregon Border → Interstate 5 (Ashland)</li>
      <li>Interstate 5 (Ashland) → Highway 140 (Fish Lake)</li>
      <li>Highway 140 → Highway 138 (Cascade Crest)</li>
      <li>Highway 138 → Highway 58 (Willamette Pass)</li>
      <li>Willamette Pass → McKenzie Pass</li>
      <li>McKenzie Pass → Barlow Pass</li>
      <li>Barlow Pass → Cascade Locks</li>
      <li>Cascade Locks → White Pass</li>
      <li>White Pass → Snoqualmie Pass</li>
      <li>Snoqualmie Pass → Stevens Pass</li>
      <li>Stevens Pass → Rainy Pass</li>
      <li>Rainy Pass → Manning Park</li>
      </ul>
    </article>
    <article>
      <h3>Pacific Northwest Trail</h3>
      <ul>
      <li>Rocky Mountains</li>
      <li>Purcell Mountains</li>
      <li>Selkirk Mountains</li>
      <li>Kettle Range</li>
      <li>Okanogan Highlands</li>
      <li>Pasayten Wilderness</li>
      <li>North Cascades</li>
      <li>Puget Sound</li>
      <li>Olympic Mountains</li>
      <li>Wilderness Coast</li>
      </ul>
    </article>
    <article>
      <h3>Pinhoti Trail (Pinhoti)</h3>
      <ul>
      <li>Flagg Mountain to FS 600-1 (Weogufka Creek)</li>
      <li>FS 600-1 (CR 56) to FS 603A (Trammel Trailhead)</li>
      <li>Trammel Trailhead to Bulls Gap (US 231)</li>
      <li>Bulls Gap (US 231) to Porters Gap (AL 77)</li>
      <li>Porters Gap (AL 77) to Adams Gap (Skyway Motorway)</li>
      <li>Adams Gap to Cheaha State Park (Blue Mountain)</li>
      <li>Cheaha State Park to County Road 24 (Shoal Creek RS)</li>
      <li>Shoal Creek Ranger Station (CR 24) to US 78 (Heflin Spur)</li>
      <li>US 78 (Heflin Spur) to Pine Glen Campground (FS 500)</li>
      <li>Pine Glen Campground to US 278 (Piedmont)</li>
      <li>US 278 (Piedmont) to AL/GA State Line</li>
      <li>Georgia State Line to Jackson Chapel Road (Esom Hill)</li>
      <li>Jackson Chapel Road to Cave Spring (US 411)</li>
      <li>Cave Spring (US 411) to Coosa River (Lock & Dam Park)</li>
      <li>Coosa River (Lock & Dam) to GA 20 (Rome Bypass)</li>
      <li>GA 20 (West Rome) to Simms Mountain Trail (Huffaker Rd)</li>
      <li>Huffaker Road (Simms Trail) to GA 100 (High Point Trailhead)</li>
      <li>GA 100 (High Point) to Mack White Gap (US 27)</li>
      <li>Mack White Gap (US 27) to Narrows Trailhead (W. Armuchee Rd)</li>
      <li>Narrows (W. Armuchee) to E. Armuchee Road (Snake Creek Gap)</li>
      <li>East Armuchee Road to Pocket Rd (Pilcher’s Pond)</li>
      <li>Pocket Rd (Pilcher’s Pond) to Snake Creek Gap (GA 136)</li>
      <li>Snake Creek Gap to Dug Gap (Dalton)</li>
      <li>Dug Gap (Dalton) to Conasauga River (Tibbs Bridge)</li>
      <li>Conasauga River (Tibbs Bridge) to Ramhurst (US 411)</li>
      <li>Ramhurst (US 411) to Cohutta Overlook</li>
      <li>Cohutta Overlook (GA 52) to Holly Creek Gap (FS 90)</li>
      <li>Holly Creek Gap (FS 90) to Buddy Cove Gap (FS 64)</li>
      <li>Buddy Cove Gap (FS 64) to Benton MacKaye Trail (Dyer Gap)</li>
      <li>(Alternate) Simms Mountain Trail North Route</li>
      <li>(Connector) Flagg Mountain CCC Road to Weogufka Trailhead</li>
      </ul>
    </article>
    <article>
      <h3>Sky Islands Traverse (Sky Islands Traverse)</h3>
      <ul>
      <li>Dragoon Mountains</li>
      <li>Huachuca Mountains</li>
      <li>Santa Rita Mountains</li>
      <li>Rincon Mountains</li>
      <li>Santa Catalina Mountains</li>
      <li>Galiuro Mountains</li>
      <li>Santa Teresa Mountains</li>
      <li>Pinaleno Mountains (Mt. Graham)</li>
      <li>Dos Cabezas Mountains</li>
      <li>Chiricahua Mountains</li>
      </ul>
    </article>
    <article>
      <h3>Superior Hiking Trail (SHT)</h3>
      <ul>
      <li>MN/WI Border to Duluth</li>
      <li>Duluth to Two Harbors</li>
      <li>Two Harbors to Silver Bay</li>
      <li>Silver Bay to Caribou Falls</li>
      <li>Caribou Falls to Lutsen</li>
      <li>Lutsen to Grand Marais</li>
      <li>Grand Marais to 270 Degree Overlook</li>
      </ul>
    </article>
    <article>
      <h3>Colorado Trail (CT)</h3>
      <ul>
      <li>Segment 1: Waterton Canyon to South Platte River</li>
      <li>Segment 2: South Platte River to Little Scraggy Trailhead</li>
      <li>Segment 3: Little Scraggy TH to FS-560 (Wellington Lake Rd)</li>
      <li>Segment 4: FS-560 to Long Gulch</li>
      <li>Segment 5: Long Gulch to Kenosha Pass</li>
      <li>Segment 6: Kenosha Pass to Gold Hill Trailhead</li>
      <li>Segment 7: Gold Hill TH to Copper Mountain</li>
      <li>Segment 8: Copper Mountain to Tennessee Pass</li>
      <li>Segment 9: Tennessee Pass to Timberline Lake Trailhead</li>
      <li>Segment 10: Timberline Lake TH to Mount Massive TH</li>
      <li>Segment 11: Mount Massive TH to Clear Creek Road</li>
      <li>Segment 12: Clear Creek Road to Silver Creek TH</li>
      <li>Segment 13: Silver Creek TH to Chalk Creek TH</li>
      <li>Segment 14: Chalk Creek TH to US-50 (Monarch Pass)</li>
      <li>Segment 15: US-50 (Monarch) to Marshall Pass</li>
      <li>Segment 16: Marshall Pass to Saguache Park Road (Eddiesville)</li>
      <li>Segment 17: Saguache Park Road to Colorado Hwy 114</li>
      <li>Segment 18: Colorado Hwy 114 to Saguache Park Road</li>
      <li>Segment 19: Saguache Park Road to Eddiesville (San Luis Pass)</li>
      <li>Segment 20: San Luis Pass to Spring Creek Pass</li>
      <li>Segment 21: Spring Creek Pass to Carson Saddle</li>
      <li>Segment 22: Carson Saddle to Stony Pass</li>
      <li>Segment 23: Stony Pass to Molas Pass</li>
      <li>Segment 24: Molas Pass to Bolam Pass Road</li>
      <li>Segment 25: Bolam Pass Road to Hotel Draw Road</li>
      <li>Segment 26: Hotel Draw Road to Kennebec Trailhead</li>
      <li>Segment 27: Kennebec TH to Junction Creek (Straight Creek)</li>
      <li>Segment 28: Straight Creek to Durango</li>
      </ul>
    </article>
    <article>
      <h3>Trans Canada Trail (TCT)</h3>
      <ul>
      <li>Newfoundland and Labrador</li>
      <li>Nova Scotia</li>
      <li>Prince Edward Island</li>
      <li>New Brunswick</li>
      <li>Québec</li>
      <li>Ontario</li>
      <li>Manitoba</li>
      <li>Saskatchewan</li>
      <li>Alberta</li>
      <li>British Columbia</li>
      </ul>
    </article>
    <article>
      <h3>Transamerica Trail</h3>
      <ul>

      </ul>
    </article>
    <article>
      <h3>Tuscarora Trail (TT)</h3>
      <ul>
      <li>Section 1: Sterretts Gap</li>
      <li>Section 2: Flat Rock</li>
      <li>Section 3: Blue Mountain</li>
      <li>Section 4: Amberson Ridge</li>
      <li>Section 5: Knob Mountain</li>
      <li>Section 6: Cowans Gap</li>
      <li>Section 7: Tuscarora Summit</li>
      <li>Section 8: The Lockings</li>
      <li>Section 9: Licking Creek</li>
      <li>Section 10: C&O Canal</li>
      <li>Section 11: Potomac</li>
      <li>Section 12: Sleepy Creek</li>
      <li>Section 13: Shockeys Knob</li>
      <li>Section 14: Gainesboro</li>
      <li>Section 15: Devils Backbone</li>
      <li>Section 16: Capon Springs</li>
      <li>Section 17: County Line</li>
      <li>Section 18: Sugar Knob</li>
      <li>Section 19: Fetzer Gap</li>
      <li>Section 20: Massanutten West</li>
      <li>Section 21: Massanutten East</li>
      <li>Section 22: Mathews Arm</li>
      </ul>
    </article>
  </section>
  <script id="ld-long-trails" type="application/ld+json">{}</script>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <script>
    const DATA_URLS = [
      '../data/long-trails-full.json',
      '/data/long-trails-full.json'
    ];

    const trackEvent = (name, params = {}) => {
      const analytics = window.NH48_INFO_ANALYTICS;
      if (analytics && analytics.logEvent && analytics.analytics) {
        analytics.logEvent(analytics.analytics, name, {
          page: location.pathname,
          ...params
        });
      }
    };

    let map;
    let trailData = [];
    let globalBounds = null;
    let activeLayers = L.layerGroup();
    const MAP_BOUNDS = L.latLngBounds(
      [14.0, -170.0],
      [72.0, -50.0]
    );
    const DEFAULT_BOUNDS = {
      minLat: 24.5,
      minLon: -124.8,
      maxLat: 49.5,
      maxLon: -66.9
    };

    function createMap(){
      map = L.map('map', {
        zoomControl: true,
        maxBounds: MAP_BOUNDS,
        maxBoundsViscosity: 1.0
      });
      L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
        subdomains: 'abcd'
      }).addTo(map);
      activeLayers.addTo(map);
      map.on('zoomend', () => {
        trackEvent('long_trails_map_zoom', { zoom: map.getZoom() });
      });
      map.on('moveend', () => {
        const center = map.getCenter();
        trackEvent('long_trails_map_move', { lat: center.lat, lng: center.lng });
      });
    }

    function toNumber(value){
      const num = Number(value);
      return Number.isFinite(num) ? num : null;
    }

    function fitBounds(bounds){
      if(!bounds){
        map.fitBounds([
          [DEFAULT_BOUNDS.minLat, DEFAULT_BOUNDS.minLon],
          [DEFAULT_BOUNDS.maxLat, DEFAULT_BOUNDS.maxLon]
        ]);
        return;
      }
      const southWest = [bounds.minLat, bounds.minLon];
      const northEast = [bounds.maxLat, bounds.maxLon];
      map.fitBounds([southWest, northEast], { padding: [20, 20] });
    }

    function buildSectionLabel(section){
      if(section.name){
        return section.name;
      }
      const start = section.start && section.start.name ? section.start.name : 'Start';
      const end = section.end && section.end.name ? section.end.name : 'End';
      return `${start} → ${end}`;
    }

    function buildEndpointLabel(trail, point, kind){
      const name = point && point.name ? ` — ${point.name}` : '';
      return `${trail.name} ${kind}${name}`;
    }

    function attachEndpointTooltip(marker, label){
      marker.bindTooltip(label, {
        direction: 'top',
        className: 'trail-tooltip',
        opacity: 0.95
      });
    }

    function getSectionBounds(section){
      const bounds = normalizeBounds(section.bounds)
        || normalizeBounds(section.geometry && section.geometry.bbox);
      const start = normalizePoint(section.start);
      const end = normalizePoint(section.end);
      const fallback = start && end
        ? {
            minLat: Math.min(start.lat, end.lat),
            maxLat: Math.max(start.lat, end.lat),
            minLon: Math.min(start.lon, end.lon),
            maxLon: Math.max(start.lon, end.lon)
          }
        : null;
      if(bounds){
        const boundsHasZero = [bounds.minLat, bounds.maxLat, bounds.minLon, bounds.maxLon].some(value => value === 0);
        const fallbackHasZero = fallback
          ? [fallback.minLat, fallback.maxLat, fallback.minLon, fallback.maxLon].some(value => value === 0)
          : true;
        if(boundsHasZero && !fallbackHasZero){
          return fallback;
        }
        return bounds;
      }
      if(fallback){
        return fallback;
      }
      return null;
    }

    function normalizeBounds(bounds){
      if(!bounds){
        return null;
      }
      const minLat = toNumber(bounds.minLat ?? bounds.min_lat ?? bounds.south);
      const maxLat = toNumber(bounds.maxLat ?? bounds.max_lat ?? bounds.north);
      const minLon = toNumber(bounds.minLon ?? bounds.min_lon ?? bounds.west);
      const maxLon = toNumber(bounds.maxLon ?? bounds.max_lon ?? bounds.east);
      if([minLat, maxLat, minLon, maxLon].some(value => value == null)){
        return null;
      }
      return { minLat, minLon, maxLat, maxLon };
    }

    function normalizePoint(point){
      if(!point){
        return null;
      }
      if(Array.isArray(point) && point.length >= 2){
        return { lat: toNumber(point[0]), lon: toNumber(point[1]) };
      }
      if(point.coordinates && Array.isArray(point.coordinates) && point.coordinates.length >= 2){
        return { ...point, lat: toNumber(point.coordinates[0]), lon: toNumber(point.coordinates[1]) };
      }
      if(point.lat != null || point.lon != null){
        return { ...point, lat: toNumber(point.lat), lon: toNumber(point.lon) };
      }
      return null;
    }

    function hasGeneratedGeometry(section){
      const geometry = section && section.generated && section.generated.geometry;
      return Boolean(geometry && Array.isArray(geometry.coordinates) && geometry.coordinates.length > 1);
    }

    function trailHasTelemetry(trail){
      return (trail.sections || []).some(section => hasGeneratedGeometry(section));
    }

    function trailDisplayColor(trail){
      if(trailHasTelemetry(trail)){
        return trail.color || '#4a9eff';
      }
      return '#9ca3af';
    }

    function getSectionGeometry(section){
      return hasGeneratedGeometry(section) ? section.generated.geometry : null;
    }

    function getGeometryBadgeLabel(section){
      if(hasGeneratedGeometry(section)){
        return null;
      }
      if(section && section.generated && section.generated.status === 'failed'){
        return 'Geometry failed';
      }
      return 'Geometry pending';
    }

    function boundsCenter(bounds){
      if(!bounds){
        return null;
      }
      const lat = (bounds.minLat + bounds.maxLat) / 2;
      const lon = (bounds.minLon + bounds.maxLon) / 2;
      return { lat, lon };
    }

    function getSectionDistance(section){
      if(section.distanceMiles != null){
        return section.distanceMiles;
      }
      if(section.mileage != null){
        return toNumber(section.mileage);
      }
      if(typeof section.distance === 'number'){
        return section.distance;
      }
      if(typeof section.distance === 'string'){
        return toNumber(section.distance);
      }
      if(section.distance && typeof section.distance === 'object'){
        return toNumber(section.distance.miles ?? section.distance.mi ?? section.distance.value);
      }
      return null;
    }

    function renderSectionDetails(section){
      const container = document.getElementById('sectionDetails');
      if(!section){
        container.innerHTML = '<div class="empty-state">Select a section to see details.</div>';
        return;
      }
      const distance = getSectionDistance(section);
      const distanceLabel = distance != null ? `${distance} mi` : null;
      const difficultyValue = typeof section.difficulty === 'string' ? section.difficulty : section.difficulty && section.difficulty.rating;
      const difficulty = difficultyValue ? `Difficulty: ${difficultyValue}` : null;
      const jurisdictions = formatJurisdictions(section.jurisdictions);
      const tags = section.tags && section.tags.length ? section.tags.join(', ') : null;
      const geometryBadge = getGeometryBadgeLabel(section);
      container.innerHTML = `
        <div class="section-title">${buildSectionLabel(section)}</div>
        <div class="section-subtitle">
          ${[distanceLabel, difficulty, jurisdictions, tags].filter(Boolean).map(item => `<span>${item}</span>`).join('')}
          ${geometryBadge ? `<span class=\"geometry-badge\">${geometryBadge}</span>` : ''}
        </div>
      `;
    }

    function formatJurisdictions(jurisdictions){
      if(!Array.isArray(jurisdictions) || !jurisdictions.length){
        return null;
      }
      const labels = jurisdictions.map(item => {
        if(typeof item === 'string'){
          return item;
        }
        if(item && typeof item === 'object'){
          return item.name || item.code || item.abbrev || item.id || null;
        }
        return null;
      }).filter(Boolean);
      return labels.length ? labels.join(', ') : null;
    }

    function formatTrailLength(stats){
      if(!stats){
        return null;
      }
      const official = stats.officialLength ?? stats.length ?? stats.length_mi ?? stats.distance;
      if(!official){
        return null;
      }
      if(typeof official === 'number' || typeof official === 'string'){
        return official;
      }
      if(typeof official === 'object'){
        return official.miles ?? official.mi ?? official.km ?? official.value ?? null;
      }
      return null;
    }

    function extractLengthMiles(value){
      if(value == null){
        return null;
      }
      if(typeof value === 'number' || typeof value === 'string'){
        return toNumber(value);
      }
      if(typeof value === 'object'){
        return toNumber(value.miles ?? value.mi ?? value.value);
      }
      return null;
    }

    function formatMilesLabel(miles){
      if(miles == null){
        return null;
      }
      return `${miles} mi`;
    }

    function buildHashLink(trail, section){
      const params = new URLSearchParams();
      params.set('trail', trail.slug);
      if(section){
        params.set('section', section.slug);
      }
      return `#${params.toString()}`;
    }

    function buildSeoSectionDescription(trail, section){
      const distance = getSectionDistance(section);
      const distanceLabel = distance != null ? `${distance} mi` : null;
      const difficultyValue = typeof section.difficulty === 'string' ? section.difficulty : section.difficulty && section.difficulty.rating;
      const difficultyLabel = difficultyValue ? `Difficulty: ${difficultyValue}` : null;
      const jurisdictions = formatJurisdictions(section.jurisdictions);
      const startName = section.start && section.start.name ? `Start: ${section.start.name}` : null;
      const endName = section.end && section.end.name ? `End: ${section.end.name}` : null;
      const meta = [distanceLabel, difficultyLabel, jurisdictions].filter(Boolean).join(' · ');
      const endpoints = [startName, endName].filter(Boolean).join(' · ');
      return [meta, endpoints].filter(Boolean).join(' — ');
    }

    function buildSeoTrailIndex(trails){
      const container = document.getElementById('seo-trails');
      if(!container){
        return;
      }
      if(!trails || trails.length === 0){
        container.innerHTML = '<h2>Trail Sections Index</h2><p>No trails available.</p>';
        return;
      }
      const trailHtml = trails.map(trail => {
        const shortName = trail.shortName ? ` (${trail.shortName})` : '';
        const officialMiles = extractLengthMiles(trail.stats && trail.stats.officialLength);
        const totalMiles = extractLengthMiles(trail.stats && (trail.stats.distance ?? trail.stats.length ?? trail.stats.totalLength));
        const lengthParts = [];
        const officialLabel = formatMilesLabel(officialMiles);
        const totalLabel = formatMilesLabel(totalMiles);
        if(officialLabel){
          lengthParts.push(`Official length: ${officialLabel}`);
        }
        if(totalLabel && totalLabel !== officialLabel){
          lengthParts.push(`Total length: ${totalLabel}`);
        }
        if(lengthParts.length === 0){
          lengthParts.push('Length data pending');
        }
        if(trail.slug === 'appalachian-trail'){
          lengthParts.push('Appalachian Trail (sometimes misspelled “Appalachain”)');
        }
        const sectionsHtml = (trail.sections || []).map(section => {
          const description = buildSeoSectionDescription(trail, section);
          const jurisdictions = formatJurisdictions(section.jurisdictions);
          const linkLabel = jurisdictions ? `${buildSectionLabel(section)} (${jurisdictions})` : buildSectionLabel(section);
          return `
            <li>
              <a href="${buildHashLink(trail, section)}">${linkLabel}</a>
              ${description ? `: ${description}` : ''}
            </li>
          `;
        }).join('');
        return `
          <article>
            <h3>${trail.name}${shortName}</h3>
            <p>${lengthParts.join(' · ')}</p>
            <ul>
              ${sectionsHtml}
            </ul>
          </article>
        `;
      }).join('');
      container.innerHTML = `<h2>Trail Sections Index</h2>${trailHtml}`;
    }

    function buildStructuredData(trails){
      const script = document.getElementById('ld-long-trails');
      if(!script){
        return;
      }
      const canonical = document.querySelector('link[rel="canonical"]');
      const pageUrl = canonical ? canonical.href : window.location.href;
      const itemList = (trails || []).map((trail, index) => {
        const sectionItems = (trail.sections || []).map((section, sectionIndex) => {
          const description = buildSeoSectionDescription(trail, section);
          const startName = section.start && section.start.name ? section.start.name : null;
          const endName = section.end && section.end.name ? section.end.name : null;
          const endpointLabel = startName && endName ? `${startName} → ${endName}` : startName || endName;
          const keywords = [
            trail.name,
            section.name,
            endpointLabel,
            formatJurisdictions(section.jurisdictions)
          ].filter(Boolean).join(', ');
          return {
            "@type": "ListItem",
            "position": sectionIndex + 1,
            "name": buildSectionLabel(section),
            "description": description || undefined,
            "item": {
              "@type": "CreativeWork",
              "name": buildSectionLabel(section),
              "description": description || undefined,
              "keywords": keywords || undefined
            }
          };
        });
        const trailKeywords = [
          trail.name,
          trail.shortName,
          formatJurisdictions(trail.jurisdictions),
          trail.slug === 'appalachian-trail' ? 'Appalachain Trail' : null
        ].filter(Boolean).join(', ');
        return {
          "@type": "ListItem",
          "position": index + 1,
          "item": {
            "@type": "CreativeWork",
            "name": trail.name,
            "alternateName": trail.shortName || undefined,
            "description": `${trail.name} long-distance trail with ${trail.sections ? trail.sections.length : 0} sections.`,
            "keywords": trailKeywords || undefined,
            "hasPart": {
              "@type": "ItemList",
              "itemListElement": sectionItems
            }
          }
        };
      });
      const payload = {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Long-Distance Trails – NH48",
        "url": pageUrl,
        "about": {
          "@type": "ItemList",
          "itemListElement": itemList
        }
      };
      script.textContent = JSON.stringify(payload, null, 2);
    }

    function getHashParams(){
      if(!window.location.hash){
        return null;
      }
      const hash = window.location.hash.replace(/^#/, '');
      if(!hash){
        return null;
      }
      const params = new URLSearchParams(hash);
      const trail = params.get('trail');
      const section = params.get('section');
      if(!trail){
        return null;
      }
      return { trail, section };
    }

    function applyHashSelection(){
      const params = getHashParams();
      if(!params){
        return;
      }
      const trail = trailData.find(item => item.slug === params.trail);
      if(!trail){
        return;
      }
      const trailDetails = document.querySelector(`[data-trail-slug="${trail.slug}"]`);
      if(trailDetails){
        trailDetails.open = true;
      }
      if(params.section){
        const section = (trail.sections || []).find(item => item.slug === params.section);
        if(section){
          renderSectionDetails(section);
          const bounds = getSectionBounds(section);
          if(bounds){
            fitBounds(bounds);
          }
          trackEvent('long_trails_hash_select', { trail: trail.slug, section: section.slug });
          return;
        }
      }
      fitBounds(trail.bounds || globalBounds);
      trackEvent('long_trails_hash_select', { trail: trail.slug });
    }

    function renderMap(trails){
      activeLayers.clearLayers();
      const sourceTrails = trails && trails.length ? trails : trailData;
      // Always plot all start/endpoints for all trails
      (sourceTrails || []).forEach(trail => {
        const color = trailDisplayColor(trail);
        const endpoints = trail.endpoints || (trail.stats && trail.stats.endpoints);
        if(endpoints && endpoints.start && endpoints.end){
          const start = normalizePoint(endpoints.start);
          const end = normalizePoint(endpoints.end);
          if(start && start.lat != null && start.lon != null){
            const marker = L.circleMarker([start.lat, start.lon], {
              radius: 8,
              color: '#ffffff',
              fillColor: color,
              fillOpacity: 1,
              weight: 2
            }).addTo(activeLayers);
            attachEndpointTooltip(marker, buildEndpointLabel(trail, start, 'Start'));
          }
          if(end && end.lat != null && end.lon != null){
            const marker = L.circleMarker([end.lat, end.lon], {
              radius: 8,
              color: '#ffffff',
              fillColor: color,
              fillOpacity: 1,
              weight: 2
            }).addTo(activeLayers);
            attachEndpointTooltip(marker, buildEndpointLabel(trail, end, 'End'));
          }
        }
      });
      // Plot filtered trails' sections as before
      (sourceTrails || []).forEach(trail => {
        const color = trailDisplayColor(trail);
        (trail.sections || []).forEach(section => {
          const geometry = getSectionGeometry(section);
          if(geometry){
            const latLngs = geometry.coordinates.map(([lon, lat]) => [lat, lon]);
            L.polyline(latLngs, {
              color,
              weight: 3,
              opacity: 0.9
            }).addTo(activeLayers);
          }
          const start = normalizePoint(section.start);
          const end = normalizePoint(section.end);
          if(!geometry && start && end && start.lat != null && start.lon != null && end.lat != null && end.lon != null){
            L.polyline([[start.lat, start.lon], [end.lat, end.lon]], {
              color,
              weight: 2,
              opacity: 0.4,
              dashArray: '4 6'
            }).addTo(activeLayers);
          }
          if(start && start.lat != null && start.lon != null){
            L.circleMarker([start.lat, start.lon], {
              radius: 5,
              color: '#ffffff',
              fillColor: color,
              fillOpacity: 0.8,
              weight: 2
            }).bindTooltip(`Start: ${start.name || ''}`.trim()).addTo(activeLayers);
          }
          if(end && end.lat != null && end.lon != null){
            L.circleMarker([end.lat, end.lon], {
              radius: 5,
              color: '#ffffff',
              fillColor: color,
              fillOpacity: 0.8,
              weight: 2
            }).bindTooltip(`End: ${end.name || ''}`.trim()).addTo(activeLayers);
          }
        });
      });
    }

    function renderAllTrails(){
      renderTrailList(trailData);
      renderMap(trailData);

      if(trailData.length > 0){
        const focusTrail = trailData[0];
        const focusSection = focusTrail.sections && focusTrail.sections[0];
        renderSectionDetails(focusSection || null);
        fitBounds(focusTrail.bounds || globalBounds);
      }else{
        renderSectionDetails(null);
        fitBounds(globalBounds);
      }
    }

    function buildSectionLink(trail, section){
      const params = new URLSearchParams(window.location.search);
      params.set('trail', trail.slug);
      const query = params.toString();
      const baseUrl = `/trails/${trail.slug}/sections/${section.slug}/`;
      return query ? `${baseUrl}?${query}` : baseUrl;
    }

    function renderTrailList(trails){
      const container = document.getElementById('trailList');
      container.innerHTML = '';

      if(trails.length === 0){
        const empty = document.createElement('div');
        empty.className = 'empty-state';
        empty.textContent = 'No trails match the current filters.';
        container.appendChild(empty);
        return;
      }

      trails.forEach(trail => {
        const details = document.createElement('details');
        details.className = 'trail-details';
        const displayColor = trailDisplayColor(trail);
        const hasTelemetry = trailHasTelemetry(trail);
        details.style.setProperty('--trail-color', displayColor);
        details.open = false;
        details.dataset.trailSlug = trail.slug;

        const summary = document.createElement('summary');
        summary.className = 'trail-summary';
        summary.innerHTML = `
          <span class="color-bar" style="background:${displayColor}"></span>
          <span class="trail-name">${trail.name}</span>
          ${hasTelemetry ? '' : '<span class="telemetry-note">Telemetry Incomplete</span>'}
          <span class="trail-count">${trail.sections.length} sections</span>
        `;
        summary.addEventListener('click', () => {
          // Pan to center between start and end points
          const endpoints = trail.endpoints || (trail.stats && trail.stats.endpoints);
          if(endpoints && endpoints.start && endpoints.end){
            const start = normalizePoint(endpoints.start);
            const end = normalizePoint(endpoints.end);
            if(start && end && start.lat != null && start.lon != null && end.lat != null && end.lon != null){
              const centerLat = (start.lat + end.lat) / 2;
              const centerLon = (start.lon + end.lon) / 2;
              map.setView([centerLat, centerLon], 10); // Set zoom level to show the trail
            }else{
              fitBounds(trail.bounds || globalBounds);
            }
          }else{
            fitBounds(trail.bounds || globalBounds);
          }
          trackEvent('long_trails_trail_toggle', { trail: trail.slug || trail.name });
        });

        const meta = document.createElement('div');
        meta.className = 'trail-meta';
        const distance = formatTrailLength(trail.stats);
        meta.textContent = distance ? `Official length: ${distance}` : 'Sections available';

        const sectionList = document.createElement('div');
        sectionList.className = 'section-list';
        (trail.sections || []).forEach(section => {
          const item = document.createElement('div');
          item.className = 'section-item';

          const distanceLabel = getSectionDistance(section) != null ? `${getSectionDistance(section)} mi` : '';
          const difficultyValue = typeof section.difficulty === 'string' ? section.difficulty : section.difficulty && section.difficulty.rating;
          const difficultyLabel = difficultyValue ? `Difficulty: ${difficultyValue}` : '';
          const jurisdictions = formatJurisdictions(section.jurisdictions) || '';
          const geometryBadge = getGeometryBadgeLabel(section);

          item.innerHTML = `
            <div class="section-title">${buildSectionLabel(section)}</div>
            <div class="section-subtitle">
              ${[distanceLabel, difficultyLabel, jurisdictions].filter(Boolean).map(item => `<span>${item}</span>`).join('')}
              ${geometryBadge ? `<span class=\"geometry-badge\">${geometryBadge}</span>` : ''}
            </div>
            <div class="section-actions">
              <button class="section-pan" type="button">Pan to segment</button>
              <a class="section-link" href="${buildSectionLink(trail, section)}">View section</a>
            </div>
          `;

          item.addEventListener('click', (event) => {
            if(event.target && event.target.matches('a')){
              return;
            }
            if(event.target && event.target.matches('button')){
              event.stopPropagation();
            }
            renderSectionDetails(section);
            trackEvent('long_trails_section_select', {
              trail: trail.slug || trail.name,
              section: section.slug || section.name
            });
          });

          const panButton = item.querySelector('.section-pan');
          panButton.addEventListener('click', (event) => {
            event.stopPropagation();
            const bounds = getSectionBounds(section);
            if(bounds){
              fitBounds(bounds);
            }
            renderSectionDetails(section);
            trackEvent('long_trails_section_pan', {
              trail: trail.slug || trail.name,
              section: section.slug || section.name
            });
          });

          const sectionLink = item.querySelector('.section-link');
          if (sectionLink) {
            sectionLink.addEventListener('click', () => {
              trackEvent('long_trails_section_view', {
                trail: trail.slug || trail.name,
                section: section.slug || section.name
              });
            });
          }

          sectionList.appendChild(item);
        });

        details.appendChild(summary);
        details.appendChild(meta);
        details.appendChild(sectionList);
        container.appendChild(details);
      });
    }

    async function loadTrails(){
      for(const url of DATA_URLS){
        try{
          const response = await fetch(url);
          if(!response.ok) continue;
          const data = await response.json();
          trackEvent('long_trails_data_loaded', {
            source: url,
            trailCount: Array.isArray(data.trails) ? data.trails.length : 0
          });
          return data;
        }catch(error){
          console.warn('Unable to load long trail data:', error);
          trackEvent('long_trails_data_fetch_error', { source: url });
        }
      }
      trackEvent('long_trails_data_load_failed');
      return { trails: [], bounds: null };
    }

    const GENERATED_BASE_URLS = [
      '../data/long-trails/generated',
      '/data/long-trails/generated'
    ];

    async function loadGeneratedTrail(trail){
      for(const baseUrl of GENERATED_BASE_URLS){
        const url = `${baseUrl}/${trail.slug}.sections.generated.json`;
        try{
          const response = await fetch(url);
          if(!response.ok) continue;
          const data = await response.json();
          trackEvent('long_trails_generated_loaded', { trail: trail.slug, source: url });
          return data;
        }catch(error){
          console.warn('Unable to load generated geometry:', error);
          trackEvent('long_trails_generated_fetch_error', { trail: trail.slug, source: url });
        }
      }
      return null;
    }

    async function mergeGeneratedTrails(trails){
      const updates = trails.map(async (trail) => {
        const generated = await loadGeneratedTrail(trail);
        if(!generated || !Array.isArray(generated.sections)){
          return;
        }
        const sectionMap = new Map(
          generated.sections.map(section => [section.sectionSlug || section.slug, section])
        );
        (trail.sections || []).forEach(section => {
          const generatedSection = sectionMap.get(section.slug);
          if(generatedSection){
            section.generated = generatedSection;
          }
        });
      });
      await Promise.all(updates);
    }

    async function init(){
      createMap();
      const data = await loadTrails();
      trailData = data.trails || [];
      globalBounds = data.bounds || null;

      await mergeGeneratedTrails(trailData);

      renderAllTrails();
      buildSeoTrailIndex(trailData);
      buildStructuredData(trailData);
      applyHashSelection();
      window.addEventListener('hashchange', applyHashSelection);
      trackEvent('long_trails_app_ready', { trailCount: trailData.length });
    }

  window.addEventListener('DOMContentLoaded', init);
</script>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getAnalytics, logEvent } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCUShYXwxGVEDNzMeIwSFPmDaYeXSqRK4A",
      authDomain: "nh48-info.firebaseapp.com",
      projectId: "nh48-info",
      storageBucket: "nh48-info.firebasestorage.app",
      messagingSenderId: "732743288228",
      appId: "1:732743288228:web:d82d62cae0c3999ee5ad31",
      measurementId: "G-Q9F2W8YB7D"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    window.NH48_INFO_ANALYTICS = {
      analytics,
      logEvent
    };

    logEvent(analytics, "page_loaded", {
      site: "nh48-info",
      page: location.pathname
    });
  </script>
</body>
</html>
