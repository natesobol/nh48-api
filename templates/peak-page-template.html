<!doctype html>
<html lang="{{LANG}}">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="https://nh48.info/favicon.png" sizes="48x48" type="image/png">
    <link rel="icon" href="https://nh48.info/icon-192.png" sizes="192x192" type="image/png">
    <link rel="apple-touch-icon" href="https://nh48.info/apple-touch-icon.png">
    <link rel="icon" href="https://nh48.info/favicon.ico" sizes="any" type="image/x-icon">
    <link rel="manifest" href="/manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title id="dynamicTitle">{{TITLE}}</title>
    <meta id="dynamicDescription" name="description" content="{{DESCRIPTION}}" />
    <meta name="author" content="{{AUTHOR_NAME}}" />
    <meta name="robots" content="index, follow, max-image-preview:large" />
    <meta name="theme-color" content="{{THEME_COLOR}}" />

    <link id="dynamicCanonical" rel="canonical" href="{{CANONICAL_URL}}" />
    <link id="hreflangEn" rel="alternate" hreflang="en" href="{{CANONICAL_EN_URL}}" />
    <link id="hreflangFr" rel="alternate" hreflang="fr" href="{{CANONICAL_FR_URL}}" />
    <link id="hreflangDefault" rel="alternate" hreflang="x-default" href="{{CANONICAL_XDEFAULT_URL}}" />

    <meta property="og:type" content="website" />
    <meta id="dynamicOgTitle" property="og:title" content="{{TITLE}}" />
    <meta id="dynamicOgDescription" property="og:description" content="{{DESCRIPTION}}" />
    <meta id="dynamicOgImage" property="og:image" content="{{OG_IMAGE}}" />
    <meta property="og:image:width" content="{{OG_IMAGE_WIDTH}}" />
    <meta property="og:image:height" content="{{OG_IMAGE_HEIGHT}}" />
    <meta property="og:image:alt" content="{{OG_IMAGE_ALT}}" />
    <meta id="dynamicOgUrl" property="og:url" content="{{CANONICAL_URL}}" />
    <meta property="og:site_name" content="{{OG_SITE_NAME}}" />
    <meta property="og:locale" content="{{OG_LOCALE}}" />
    <meta property="og:locale:alternate" content="{{OG_LOCALE_ALT}}" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta id="dynamicTwitterTitle" name="twitter:title" content="{{TITLE}}" />
    <meta id="dynamicTwitterDescription" name="twitter:description" content="{{DESCRIPTION}}" />
    <meta id="dynamicTwitterImage" name="twitter:image" content="{{OG_IMAGE}}" />
    <meta name="twitter:image:alt" content="{{OG_IMAGE_ALT}}" />
    <meta property="twitter:site" content="{{TWITTER_SITE}}" />
    <meta property="twitter:creator" content="{{TWITTER_CREATOR}}" />

    <meta name="creator" content="{{PAGE_CREATOR}}" />
    <meta name="publisher" content="{{PHOTO_PUBLISHER}}" />
    <meta name="copyright" content="{{PHOTO_CREDIT}}" />
    <meta name="keywords" content="{{PHOTO_KEYWORDS}}" />
    <meta name="exif:summary" content="{{PHOTO_EXIF}}" />
    <meta name="geo.position" content="{{GEO_POSITION}}" />
    <meta name="geo.placename" content="{{GEO_PLACENAME}}" />
    <meta name="geo.region" content="{{GEO_REGION}}" />
    <meta name="ICBM" content="{{GEO_POSITION}}" />

    <link rel="preload" as="image" href="{{HERO_PRELOAD}}" />
    <link rel="preconnect" href="https://nh48.info" crossorigin />
    <link rel="preconnect" href="https://photos.nh48.info" crossorigin />

    <script id="peakJsonLd" type="application/ld+json">{{JSON_LD}}</script>
    <script id="breadcrumbJsonLd" type="application/ld+json">{{BREADCRUMB_LD}}</script>
    <script id="mapJsonLd" type="application/ld+json">{{WEBPAGE_SCHEMA}}</script>
    {{MAP_SCHEMA}}
    {{FAQ_SCHEMA}}

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <link rel="stylesheet" href="/css/peak-detail.css" />
    <link rel="stylesheet" href="/css/ui-tooltips.css" />
    <script src="https://code.iconify.design/3/3.1.1/iconify.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/html-to-image@1.11.11/dist/html-to-image.min.js" defer></script>
    <script type="module" src="/js/i18n.js"></script>
    <script src="/js/ui-tooltips.js" defer></script>
    <script src="/js/unified-footer.js" defer></script>

    <style>
      .skip-link {
        position: absolute;
        top: -40px;
        left: 0;
        background: #22c55e;
        color: #04110a;
        padding: 8px 12px;
        text-decoration: none;
        font-weight: 700;
        border-radius: 0 0 4px 0;
        z-index: 1000;
      }
      .skip-link:focus {
        top: 0;
      }
      .prerender-summary {
        margin: 12px 0;
      }
      .prerender-summary .metadata-section-title {
        margin-bottom: 8px;
      }
      .prerender-summary .metadata-value {
        margin: 0;
      }
    </style>

    <script>
      (function () {
        function getRouteInfo(pathname) {
          var parts = String(pathname || '').split('/').filter(Boolean);
          var isFrench = parts[0] === 'fr';
          var peakKeywords = ['peak', 'peaks', 'guest'];
          var slugIndex = -1;
          for (var i = 0; i < parts.length; i += 1) {
            if (peakKeywords.indexOf(parts[i]) !== -1) {
              slugIndex = i + 1;
              break;
            }
          }
          if (slugIndex === -1) {
            slugIndex = isFrench ? 1 : 0;
          }
          var slug = parts[slugIndex] || '';
          return { slug: slug, isFrench: isFrench };
        }

        var routeInfo = getRouteInfo(window.location.pathname);
        window.NH48_ROUTE_INFO = routeInfo;

        var params = new URLSearchParams(window.location.search);
        var requestedLang = params.get('lang');
        if (requestedLang) {
          try {
            localStorage.setItem('nh48_lang', requestedLang);
          } catch (_err) {
            // no-op
          }
        }

        var slugParam = routeInfo.slug || params.get('slug') || '';
        var langHint = (requestedLang || (function(){
          try { return localStorage.getItem('nh48_lang') || ''; }
          catch (_err) { return ''; }
        })()).toLowerCase();
        var isFrench = langHint.indexOf('fr') === 0 || routeInfo.isFrench;
        var canonicalBase = isFrench ? 'https://nh48.info/fr/peak' : 'https://nh48.info/peak';
        var encodedSlug = slugParam ? encodeURIComponent(slugParam) : '';
        var canonicalUrl = encodedSlug ? (canonicalBase + '/' + encodedSlug + '/') : (canonicalBase + '/');

        var canonicalEl = document.getElementById('dynamicCanonical');
        if (canonicalEl) canonicalEl.setAttribute('href', canonicalUrl);
        var hreflangEn = document.getElementById('hreflangEn');
        if (hreflangEn) hreflangEn.setAttribute('href', encodedSlug ? ('https://nh48.info/peak/' + encodedSlug + '/') : 'https://nh48.info/peak/');
        var hreflangFr = document.getElementById('hreflangFr');
        if (hreflangFr) hreflangFr.setAttribute('href', encodedSlug ? ('https://nh48.info/fr/peak/' + encodedSlug + '/') : 'https://nh48.info/fr/peak/');
        var hreflangDefault = document.getElementById('hreflangDefault');
        if (hreflangDefault) hreflangDefault.setAttribute('href', encodedSlug ? ('https://nh48.info/peak/' + encodedSlug + '/') : 'https://nh48.info/peak/');
      })();
    </script>
  </head>
  <body>
    <a href="#peakTitle" class="skip-link">Skip to main content</a>
    <div id="nav-placeholder" class="no-print"></div>

    <main id="peak-detail" class="wrap">
      <nav class="breadcrumb-nav no-print" aria-label="Breadcrumb" id="breadcrumbNav">
        <ol>
          <li><a href="{{HOME_URL}}" id="breadcrumbHomeLink"><span id="breadcrumbHomeLabel">{{BREADCRUMB_HOME}}</span></a></li>
          <li><a href="{{BREADCRUMB_WHITE_MOUNTAINS_URL}}" id="breadcrumbWhiteMountainsLink"><span id="breadcrumbWhiteMountainsLabel">{{BREADCRUMB_WHITE_MOUNTAINS}}</span></a></li>
          <li><a href="{{BREADCRUMB_RANGE_URL}}" id="breadcrumbRangeLink"><span id="breadcrumbRangeLabel">{{BREADCRUMB_RANGE_NAME}}</span></a></li>
          <li><span id="breadcrumbCurrent" aria-current="page">{{PEAK_NAME}}</span></li>
        </ol>
      </nav>

      <div class="seo-links no-print">
        <a href="{{CATALOG_URL}}" data-i18n="peak.back">{{LABEL_BACK_TO_CATALOG}}</a>
      </div>

      <header id="peakHero" class="peak-hero no-print" aria-label="Peak banner">
        <div class="peak-hero-content">
          <h1 id="peakHeroTitle" class="peak-hero-title">{{PEAK_NAME}}</h1>
          <p id="peakHeroSubtitle" class="peak-hero-subtitle">{{SUMMARY}}</p>
          <div class="peak-hero-meta" aria-label="Peak key details">
            <span id="peakHeroProminence">{{LABEL_PROMINENCE}}: {{PROMINENCE}}</span>
            <span id="peakHeroRange">{{LABEL_RANGE}}: {{RANGE}}</span>
          </div>
        </div>
        <div class="peak-tools" aria-label="Peak tools">
          <div class="button-row">
            <a id="getDirectionsBtn" class="icon-btn icon-btn-link no-print" href="#" target="_blank" rel="noopener" aria-label="Get directions">
              <span class="iconify" data-icon="mdi:directions" aria-hidden="true"></span>
              <span class="sr-only">Get directions</span>
            </a>
            <button id="printBtn" class="icon-btn no-print" aria-label="Print">
              <span class="iconify" data-icon="mdi:printer" aria-hidden="true"></span>
              <span class="sr-only">Print</span>
            </button>
            <button id="shareBtn" class="icon-btn no-print" aria-label="Share">
              <span class="iconify" data-icon="mdi:share-outline" aria-hidden="true"></span>
              <span class="sr-only">Share</span>
            </button>
            <div class="units-control">
              <label for="unitsSelect">Units</label>
              <select id="unitsSelect" aria-label="Select units">
                <option value="feet">Feet</option>
                <option value="meters">Meters</option>
              </select>
            </div>
          </div>
          <div id="peakToolsElevation" class="peak-tools-elevation">{{LABEL_ELEVATION}}: {{ELEVATION}}</div>
        </div>
      </header>
      <figure class="hero-image no-print" id="heroImageFigure">
        <img src="{{HERO_IMAGE}}" alt="{{HERO_ALT}}" loading="eager" {{HERO_DIMENSIONS}}{{HERO_LANG_ATTR}} aria-describedby="hero-image-caption" />
        <figcaption id="hero-image-caption"{{HERO_CAPTION_LANG_ATTR}}>{{HERO_CAPTION}}</figcaption>
      </figure>

      <p id="peakTitle" class="sr-only">{{PEAK_NAME}}</p>

      <div class="media no-print" id="media" hidden>
        <div class="media-loading" id="mediaLoading">
          <span class="loading-spinner" aria-hidden="true"></span>
          <span class="loading-text">Loading...</span>
        </div>
        <div class="carousel" id="carousel"></div>
        <div class="dots" id="dots"></div>
        <div class="ctrls">
          <button id="prevBtn" aria-label="Previous image">&#8249;</button>
          <button id="nextBtn" aria-label="Next image">&#8250;</button>
        </div>
        <div class="timer" id="carouselTimer" hidden>
          <div class="timer-visual">
            <svg viewBox="0 0 40 40">
              <circle id="timerRing" class="timer-ring" cx="20" cy="20" r="18"></circle>
            </svg>
            <span id="timerText" class="timer-text"></span>
          </div>
          <button id="carouselPauseBtn" type="button" class="timer-pause" aria-label="Pause carousel" aria-pressed="false" title="Pause carousel">||</button>
        </div>
      </div>

      <div id="peakDescriptionPanel" class="metadata-panel no-print prerender-summary">
        <article class="metadata-article">
          <h2 class="metadata-section-title">{{LABEL_OVERVIEW}}</h2>
          <p class="metadata-value">{{SUMMARY}}</p>
        </article>
      </div>
      <div id="generalInfoPanel" class="metadata-panel no-print" hidden></div>
      <div id="photoMetadataPanel" class="metadata-panel no-print" hidden></div>

      <section aria-labelledby="routesHeading" id="routesPanel">
        <h2 id="routesHeading" class="section-title no-print">{{LABEL_STANDARD_ROUTES}}</h2>
        <div class="peak-map-panel" id="peakMapPanel" hidden>
          <span id="peak-trail-map" class="sr-only">Peak trail map</span>
          <div class="peak-map-header">
            <div>
              <div class="peak-map-title" id="peakMapTitle">Peak Trail Map</div>
              <div class="peak-map-subtitle" id="peakMapSubtitle">OpenStreetMap topographic view with WMNF trail overlays.</div>
            </div>
            <a class="peak-map-cta" id="peakMapCta" href="/trails">White Mountain Trails -></a>
          </div>
          <div class="peak-map-frame">
            <div class="peak-map-canvas" id="peakMap" role="img" aria-label="Topographic map of the peak area"></div>
            <div class="peak-map-status" id="peakMapStatus">Loading trail map...</div>
          </div>
        </div>
        <div id="print-summary" class="print-only" aria-live="polite"></div>
        <div class="info-grid no-print" id="routesGrid">
          <article class="info-panel detail-panel">
            <ul class="routes-list">{{ROUTES_LIST}}</ul>
          </article>
        </div>
      </section>

      <section aria-labelledby="monthlyWeatherHeading" class="no-print" id="monthlyWeatherPanel">
        <h2 id="monthlyWeatherHeading" class="section-title">Monthly Weather Averages</h2>
        <div class="info-grid">
          <article class="info-panel detail-panel monthly-weather-card">
            <div class="metadata-header monthly-weather-header">
              <label for="monthlyWeatherMonthSelect" class="sr-only" id="monthlyWeatherMonthLabel">Select month</label>
              <select id="monthlyWeatherMonthSelect" aria-labelledby="monthlyWeatherMonthLabel">
                <option value="current">Current month</option>
              </select>
            </div>
            <div class="monthly-weather-metrics" id="monthlyWeatherMetrics"></div>
            <p class="monthly-weather-disclaimer" id="monthlyWeatherDisclaimer"></p>
          </article>
        </div>
      </section>

      <div id="peakAdvisorySlot" class="no-print"></div>

      <section aria-labelledby="relatedTrailsHeading" class="no-print" id="trailsHubSection">
        <h2 id="relatedTrailsHeading" class="section-title">{{LABEL_RELATED_TRAILS}}</h2>
        <div class="info-grid" id="relatedTrailsGrid">
          <article class="info-panel detail-panel">
            <ul class="routes-list">{{RELATED_TRAILS_LI}}</ul>
          </article>
        </div>
      </section>

      <section aria-labelledby="parkingAccessHeading" class="no-print" id="parkingAccessPanel">
        <h2 id="parkingAccessHeading" class="section-title">Parking &amp; Access</h2>
        <div class="info-grid" id="parkingAccessGrid">
          <article class="info-panel detail-panel"><p>Loading parking and access guidance...</p></article>
        </div>
      </section>

      <section aria-labelledby="difficultyMetricsHeading" class="no-print" id="difficultyMetricsPanel">
        <h2 id="difficultyMetricsHeading" class="section-title">Difficulty Metrics</h2>
        <div class="info-grid" id="difficultyMetricsGrid">
          <article class="info-panel detail-panel"><p>Loading difficulty metrics...</p></article>
        </div>
      </section>

      <section aria-labelledby="riskPrepHeading" class="no-print" id="riskPrepPanel">
        <h2 id="riskPrepHeading" class="section-title">Risk &amp; Preparation</h2>
        <div class="info-grid" id="riskPrepGrid">
          <article class="info-panel detail-panel"><p>Loading risk and preparation guidance...</p></article>
        </div>
      </section>

      <section aria-labelledby="wildernessSafetyHeading" class="no-print" id="wildernessSafetyPanel">
        <h2 id="wildernessSafetyHeading" class="section-title">Wilderness Safety</h2>
        <div class="info-grid" id="wildernessSafetyGrid">
          <article class="info-panel detail-panel">
            <p>Data TBD for this route.</p>
          </article>
        </div>
      </section>

      <section aria-labelledby="terrainHeading" class="no-print" id="terrainPanel">
        <h2 id="terrainHeading" class="section-title">Trail &amp; Terrain</h2>
        <div class="info-grid" id="terrainGrid">
          <article class="info-panel detail-panel"><p>Loading terrain details...</p></article>
        </div>
      </section>

      <section aria-labelledby="conditionsHeading" class="no-print" id="conditionsPanel">
        <h2 id="conditionsHeading" class="section-title">Conditions &amp; Access</h2>
        <div class="info-grid" id="conditionsGrid">
          <article class="info-panel detail-panel"><p>Loading current conditions...</p></article>
        </div>
      </section>

      <section aria-labelledby="trailTestedNotesHeading" class="no-print experience-notes" id="trailTestedNotesPanel" hidden>
        <h2 id="trailTestedNotesHeading" class="section-title">Trail-tested notes</h2>
        <div class="experience-notes-grid" id="trailTestedNotesGrid"></div>
        <p class="experience-last-reviewed" id="trailTestedLastReviewed" hidden></p>
      </section>

      <noscript>
        <section aria-labelledby="galleryHeading">
          <h2 id="galleryHeading" class="section-title">{{LABEL_GALLERY}}</h2>
          <div class="gallery-grid">{{GALLERY_IMAGES}}</div>
        </section>
        {{EXPERIENCE_SECTION}}
      </noscript>
    </main>

    <div id="socialCardModal" class="social-card-modal" hidden>
      <div class="social-card-dialog" role="dialog" aria-modal="true" aria-labelledby="socialCardTitle">
        <div class="social-card-header">
          <h2 id="socialCardTitle">Share social card</h2>
          <button id="closeSocialCard" class="icon-btn" type="button" aria-label="Close share dialog">
            <span class="iconify" data-icon="mdi:close" aria-hidden="true"></span>
          </button>
        </div>
        <div class="social-card-controls">
          <span>Orientation</span>
          <div class="social-card-toggle" role="group" aria-label="Social card orientation">
            <button type="button" class="social-card-toggle-btn active" data-orientation="landscape">Landscape</button>
            <button type="button" class="social-card-toggle-btn" data-orientation="portrait">Portrait</button>
          </div>
          <button id="downloadSocialCard" class="primary-btn" type="button">Download</button>
        </div>
        <div class="social-card-body">
          <div class="social-card-preview">
            <div id="socialCardContainer" class="social-card landscape" role="img" aria-label="Social card preview">
              <div class="social-card-overlay">
                <div class="social-card-top-row">
                  <h3 id="socialCardPeakName" class="social-card-title">{{PEAK_NAME}}</h3>
                  <div class="social-card-tools">
                    <div id="socialCardUnits" class="social-card-units">UNITS: FEET</div>
                  </div>
                </div>
                <div class="social-card-bottom-row">
                  <div>
                    <div class="social-card-meta">
                      <span id="socialCardProminence">Prominence: {{PROMINENCE}}</span>
                      <span id="socialCardRange">Range: {{RANGE}}</span>
                    </div>
                    <div id="socialCardPromo" class="social-card-promo">See details and photos for {{PEAK_NAME}} at nh48.info.</div>
                  </div>
                  <div id="socialCardElevation" class="social-card-elevation">Elevation: {{ELEVATION}}</div>
                </div>
              </div>
            </div>
          </div>
          <div id="socialShareButtons" class="social-share-buttons">
            <h3>Share this peak</h3>
            <div class="social-share-group major-networks"></div>
            <div class="social-share-group international-networks"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="panelReaderModal" class="panel-reader-modal no-print" hidden aria-hidden="true">
      <div class="panel-reader-dialog" role="dialog" aria-modal="true" aria-labelledby="panelReaderTitle">
        <div class="panel-reader-header">
          <h2 id="panelReaderTitle">Panel reader</h2>
          <div class="panel-reader-controls">
            <label for="panelReaderScale" id="panelReaderScaleLabel">Scale</label>
            <select id="panelReaderScale" aria-labelledby="panelReaderScaleLabel">
              <option value="5">500%</option>
              <option value="6" selected>600%</option>
              <option value="8">800%</option>
            </select>
            <button id="panelReaderClose" class="icon-btn" type="button" aria-label="Close panel reader">
              <span class="iconify" data-icon="mdi:close" aria-hidden="true"></span>
            </button>
          </div>
        </div>
        <div id="panelReaderContent" class="panel-reader-content"></div>
      </div>
    </div>

    <script id="peakBootstrapData" type="application/json">{{PEAK_BOOTSTRAP_JSON}}</script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script type="module" src="/js/peak-detail-runtime.js"></script>
    <div id="footer-placeholder"></div>
  </body>
</html>
