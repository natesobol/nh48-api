<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>The Complete Guide to the New Hampshire 48 4,000 Footers | NH48 Guide</title>
    <meta
      name="description"
      content="Authoritative NH48 guide with peak history, interactive 4,000 footer list, range filters, winter vs. summer planning tips, API links, and structured data for all 48 New Hampshire summits."
    />
    <meta
      name="keywords"
      content="NH48 guide, New Hampshire 4000 footers, AMC 4000 footer list, White Mountains hiking, Presidential Range, Franconia Ridge, NH48 data API"
    />
    <link rel="canonical" href="https://nh48.info/nh-4000-footers-guide" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Complete Guide to the New Hampshire 48 4,000 Footers" />
    <meta property="og:description" content="Single source of truth for the NH48 with interactive list, range filters, winter vs. summer planning, maps, and API links." />
    <meta property="og:url" content="https://nh48.info/nh-4000-footers-guide" />
    <meta property="og:image" content="https://nh48.info/UI-Elements/og-cover.png" />
    <meta property="og:image:alt" content="Map illustration of New Hampshire's 4,000 foot peaks" />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="stylesheet" href="/css/quick-browse-footer.css" />
    <script src="/js/quick-browse-footer.js" defer></script>
    <style>
      :root {
        --bg: #0b1020;
        --panel: #11172b;
        --card: #151c31;
        --ink: #f8fafc;
        --muted: #cbd5e1;
        --accent: #22c55e;
        --accent-2: #60a5fa;
        --stroke: #243447;
      }
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Noto Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        background: radial-gradient(circle at 20% 20%, #0f172a 0, #0b1020 45%),
          radial-gradient(circle at 80% 0%, #122041 0, #0b1020 40%),
          #0b1020;
        color: var(--ink);
        -webkit-font-smoothing: antialiased;
      }
      a {
        color: var(--accent);
      }
      .wrap {
        max-width: 1200px;
        margin: 0 auto;
        padding: 16px 18px 64px;
      }
      header.hero {
        background: linear-gradient(135deg, rgba(34, 197, 94, 0.14), rgba(96, 165, 250, 0.1));
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 18px;
        padding: 28px;
        box-shadow: none;
        margin: 14px 0 28px;
      }
      header.hero h1 {
        font-size: clamp(32px, 4vw, 44px);
        margin: 0 0 12px;
      }
      header.hero p {
        color: var(--muted);
        max-width: 900px;
        font-size: 17px;
        line-height: 1.6;
      }
      .quick-facts {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 12px;
        margin-top: 18px;
      }
      .fact-card {
        background: var(--card);
        border: 1px solid var(--stroke);
        padding: 14px;
        border-radius: 12px;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }
      .fact-label {
        text-transform: uppercase;
        letter-spacing: 0.9px;
        font-weight: 700;
        color: #c8f6db;
        font-size: 12px;
      }
      .fact-value {
        font-size: 22px;
        font-weight: 800;
      }
      section {
        margin: 36px 0 28px;
      }
      h2 {
        font-size: 26px;
        margin-bottom: 12px;
      }
      p,
      li {
        line-height: 1.7;
        color: var(--muted);
      }
      .content-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 18px;
        align-items: start;
      }
      .panel {
        background: var(--panel);
        border: 1px solid var(--stroke);
        border-radius: 14px;
        padding: 16px;
        box-shadow: none;
      }
      .range-filters {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin: 12px 0 18px;
      }
      .chip {
        padding: 8px 12px;
        border-radius: 999px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.04);
        color: var(--ink);
        cursor: pointer;
        font-weight: 700;
        font-size: 14px;
        transition: all 0.18s ease;
      }
      .chip.active {
        background: var(--accent);
        color: #0b1020;
        border-color: var(--accent);
      }
      .table-scroll {
        overflow-x: auto;
        border-radius: 14px;
        border: 1px solid var(--stroke);
      }
      table {
        width: 100%;
        border-collapse: collapse;
        background: var(--card);
      }
      th,
      td {
        padding: 12px;
        border-bottom: 1px solid var(--stroke);
        text-align: left;
      }
      th {
        text-transform: uppercase;
        font-size: 13px;
        letter-spacing: 0.6px;
        color: #dbeafe;
      }
      tr:hover td {
        background: rgba(255, 255, 255, 0.03);
      }
      .map-shell {
        background: var(--panel);
        border: 1px solid var(--stroke);
        border-radius: 14px;
        padding: 12px;
      }
      #peakMap {
        width: 100%;
        height: 360px;
        background: radial-gradient(circle at 25% 30%, rgba(34, 197, 94, 0.1), rgba(96, 165, 250, 0.05)),
          linear-gradient(145deg, #0d162b, #0b1224);
        border-radius: 12px;
        border: 1px solid var(--stroke);
      }
      .map-legend {
        display: flex;
        gap: 12px;
        margin-top: 10px;
        flex-wrap: wrap;
        color: var(--muted);
        font-size: 14px;
      }
      .legend-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 6px;
      }
      .range-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 12px;
        margin-top: 8px;
      }
      .range-card {
        background: var(--panel);
        border: 1px solid var(--stroke);
        padding: 12px;
        border-radius: 12px;
      }
      .toggle-group {
        display: inline-flex;
        border: 1px solid var(--stroke);
        border-radius: 999px;
        overflow: hidden;
      }
      .toggle-group button {
        background: transparent;
        border: none;
        color: var(--ink);
        padding: 10px 14px;
        cursor: pointer;
        font-weight: 700;
      }
      .toggle-group button.active {
        background: var(--accent);
        color: #0b1020;
      }
      .season-table {
        margin-top: 14px;
      }
      .faq-item {
        margin-bottom: 12px;
      }
      .cta {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 12px 16px;
        background: var(--accent);
        border: 2px solid var(--accent);
        color: #0b1020;
        border-radius: 10px;
        font-weight: 800;
        text-decoration: none;
        text-transform: uppercase;
        letter-spacing: 0.6px;
      }
      @media (max-width: 700px) {
        th,
        td {
          padding: 10px;
        }
        .range-filters {
          gap: 6px;
        }
      }
    </style>
  </head>
  <body data-route="guide" data-page="guide">
    <div id="nav-placeholder"></div>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const navPlaceholder = document.getElementById('nav-placeholder');
        const footerPlaceholder = document.getElementById('footer-placeholder');
        const activeRoute = document.body.dataset.route || document.body.dataset.page;

        if (navPlaceholder) {
          fetch('/pages/nav.html')
            .then((r) => r.text())
            .then((html) => {
              navPlaceholder.innerHTML = html;
              const links = navPlaceholder.querySelectorAll('.site-nav-links a');
              links.forEach((link) => {
                const routes = (link.dataset.routes || link.dataset.route || '')
                  .split(',')
                  .map((value) => value.trim())
                  .filter(Boolean);

                if (routes.includes(activeRoute)) {
                  link.classList.add('active');
                  link.setAttribute('aria-current', 'page');
                }
              });
            })
            .catch((err) => console.error('Navigation failed to load', err));
        }

        const hasQuickFooter = document.querySelector('.nh48-quick-footer');

        if (footerPlaceholder && !hasQuickFooter) {
          fetch('/pages/footer.html')
            .then((r) => r.text())
            .then((html) => {
              footerPlaceholder.innerHTML = html;
            })
            .catch((err) => console.error('Footer failed to load', err));
        }
      });
    </script>

    <main class="wrap">
      <header class="hero">
        <p class="eyebrow">SEO pillar • Single source of truth</p>
        <h1>The Complete Guide to the New Hampshire 48 4,000 Footers</h1>
        <p>
          Every summit, route pattern, seasonality tip, and API endpoint you need to finish the AMC Four-Thousand-Footer Club list.
          This guide pairs historic context with live data from the NH48 API so each peak page, range view, and developer tool is linked into one authoritative hub.
        </p>
        <div class="quick-facts" id="quickFacts">
          <div class="fact-card">
            <span class="fact-label">Total Peaks</span>
            <span class="fact-value" id="factCount">48</span>
            <small class="muted">Official AMC-recognized 4,000-footers</small>
          </div>
          <div class="fact-card">
            <span class="fact-label">Highest Summit</span>
            <span class="fact-value" id="factHigh">Mount Washington – 6,288 ft</span>
            <small class="muted">Presidential Range</small>
          </div>
          <div class="fact-card">
            <span class="fact-label">Cumulative Elevation</span>
            <span class="fact-value" id="factTotal">Calculating…</span>
            <small class="muted">Sum of all summit elevations</small>
          </div>
          <div class="fact-card">
            <span class="fact-label">API Ready</span>
            <span class="fact-value">JSON, GeoJSON, Images</span>
            <small class="muted">Open data for maps, apps, and trackers</small>
          </div>
        </div>
      </header>

      <section id="what-is-nh48">
        <h2>What is the NH48?</h2>
        <p>
          The New Hampshire 48 are the mountains that meet the AMC Four-Thousand-Footer Club standard: at least 4,000 feet above sea level and 200 feet of
          topographic prominence. The concept began in 1931 when Dartmouth librarian Nathaniel L. Goodrich proposed a 36-peak challenge. By 1980, refined USGS surveys
          and stricter prominence rules expanded the list to 48—adding Bondcliff and Galehead and excluding shoulder summits like Mt. Guyot and Mt. Clay.
        </p>
        <p>
          Completing the list requires full human-powered ascents—no shortcuts on the Cog Railway or Cannon tram—and each summit must be part of a contiguous up-and-down trip.
          Many hikers pursue a seasonal double by finishing the winter-only version (December 21–March 21) where snow travel, road closures, and short daylight radically reshape strategy.
        </p>
      </section>

      <section id="official-peak-list">
        <h2>The Official Peak List</h2>
        <p>
          Tap a range filter to see the peaks clustered by geography, or click a summit name to open its detailed page. Each row pulls live attributes from the NH48 manifest so the table stays synchronized with the photo-rich peak templates.
        </p>
        <div class="range-filters" id="rangeFilters" aria-label="Filter peaks by range"></div>
        <div class="table-scroll">
          <table>
            <thead>
              <tr>
                <th>Peak</th>
                <th>Elevation (ft)</th>
                <th>Range</th>
                <th>Best For</th>
              </tr>
            </thead>
            <tbody id="peakTableBody"></tbody>
          </table>
        </div>
      </section>

      <section id="range-map" class="content-grid">
        <div class="panel map-shell">
          <h2>Peaks by Mountain Range</h2>
          <p>
            The NH48 spans eight major clusters. Use the quick chips to jump straight to a filtered list: the Presidential Range’s weather-beaten alpine zone, the Franconia Ridge postcard views, the remote Bonds inside the Pemigewasset Wilderness, and the family-friendly Sandwich Range approaches.
          </p>
          <div class="range-list" id="rangeList"></div>
        </div>
        <div class="panel map-shell">
          <h2>Interactive Map</h2>
          <p>Zoom with your mousewheel or tap each pin to see peak names. All coordinates load from the same manifest that powers the catalog.</p>
          <svg id="peakMap" role="img" aria-label="Map of all 48 New Hampshire 4,000 foot peaks"></svg>
          <div class="map-legend">
            <span><span class="legend-dot" style="background:#22c55e"></span>NH48 Summits</span>
            <span><span class="legend-dot" style="background:#60a5fa"></span>Range clusters</span>
          </div>
        </div>
      </section>

      <section id="difficulty-strategy">
        <h2>Peak Difficulty &amp; Strategy</h2>
        <div class="content-grid">
          <div class="panel">
            <h3>Beginner-Friendly choices</h3>
            <ul>
              <li><strong>Mt. Tecumseh</strong> — the shortest ascent and most direct fall-line trail of the list.</li>
              <li><strong>Mt. Waumbek</strong> — steady grade, sheltered forest, and forgiving footing.</li>
              <li><strong>Mt. Pierce</strong> — classic Crawford Path views without the exposure of its Presidential neighbors.</li>
            </ul>
          </div>
          <div class="panel">
            <h3>Advanced &amp; committing</h3>
            <ul>
              <li><strong>The Bonds</strong> (Bond, West Bond, Bondcliff) — usually a 19–23 mile day or an overnight traverse.</li>
              <li><strong>Owl’s Head</strong> — long approach with a loose slide and muddy valley miles.</li>
              <li><strong>The Wildcats</strong> — relentless grades that feel like a backcountry stair climber.</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="seasonal-considerations">
        <h2>Seasonal Considerations</h2>
        <p>
          The AMC tracks winter finishers separately because road closures, avalanche zones, and snowpack radically change the effort. Use the toggle to switch between summer and winter planning.
        </p>
        <div class="toggle-group" role="group" aria-label="Toggle hiking season">
          <button id="summerBtn" class="active" type="button">Summer</button>
          <button id="winterBtn" type="button">Winter</button>
        </div>
        <div class="table-scroll season-table">
          <table>
            <thead>
              <tr>
                <th>Focus</th>
                <th id="seasonHeading">Summer Strategy</th>
              </tr>
            </thead>
            <tbody id="seasonRows"></tbody>
          </table>
        </div>
      </section>

      <section id="history">
        <h2>History &amp; Rules Recap</h2>
        <p>
          The AMC Four-Thousand-Footer Club launched officially in 1957 to encourage hikers into the deeper corners of the White Mountain National Forest. The prominence rule—requiring 200 feet of rise from any connecting col—is the scientific filter that keeps the list lean and excludes lookalike shoulders. To claim a summit you must travel on foot (or skis/snowshoes in winter) from trailhead to summit and back; taking the Cog Railway or Cannon’s tramway invalidates the ascent.
        </p>
        <p>
          Today, thousands of finishers log their climbs by mailing the AMC application or joining online trackers. Most hikers pair this pillar page with the individual peak templates linked below to research approach mileage, exposure, bailout routes, and seasonal notes.
        </p>
      </section>

      <section id="data-api">
        <h2>Data &amp; API Resources</h2>
        <p>
          NH48.info exposes every peak as JSON so developers can build their own dashboards, weather overlays, or GPX generators. The manifest powering this page includes elevations, coordinates, route notes, exposure ratings, and captioned photography with alt text. Grab the files directly or mirror them through a CDN.
        </p>
        <ul>
          <li><a href="https://nh48.info/data/nh48.json">NH48 JSON dataset</a> (all peaks and photo metadata)</li>
          <li><a href="https://nh48.info/manifest_out.json">Expanded manifest</a> (coordinates, routes, exposure, seasonality)</li>
          <li><a href="https://cdn.jsdelivr.net/gh/natesobol/nh48-api@main/data/nh48.json">jsDelivr CDN mirror</a> for cached pulls</li>
        </ul>
        <p>
          Developers: embed the table via fetch, use the map pins in GeoJSON, or remix the photos (with attribution) to power your own NH48 tracker. Every peak page now links back here so your users can jump between the hub and the detailed photo templates.
        </p>
        <a class="cta" href="https://github.com/natesobol/nh48-api">Use the API</a>
      </section>

      <section id="faq">
        <h2>Frequently Asked Questions</h2>
        <div class="faq-item">
          <strong>What is the easiest 4,000 footer in New Hampshire?</strong>
          <p>Mt. Tecumseh and Mt. Waumbek are widely considered the most approachable: short mileage, steady grades, and minimal exposure.</p>
        </div>
        <div class="faq-item">
          <strong>Do winter ascents count toward the regular NH48 list?</strong>
          <p>Yes, winter ascents count for the primary list and separately for the Winter NH48 award. December 21–March 21 is the accepted window.</p>
        </div>
        <div class="faq-item">
          <strong>Which range has the most challenging weather?</strong>
          <p>The Presidential Range. Above-treeline exposure, fast-moving storms, and wind chills make even summer days serious.</p>
        </div>
        <div class="faq-item">
          <strong>How do I link to individual peak details?</strong>
          <p>Use the /peak/slug/ format shown in the Official Peak List. Each peak page now includes a “Back to the NH48 Guide” link for reciprocal navigation.</p>
        </div>
      </section>
    </main>

    <script>
      const rangeLookup = {
        'bondcliff': 'Twin/Bond Range',
        'west-bond': 'Twin/Bond Range',
        'mount-bond': 'Twin/Bond Range',
        'south-twin-mountain': 'Twin/Bond Range',
        'north-twin-mountain': 'Twin/Bond Range',
        'zealand-mountain': 'Twin/Bond Range',
        'galehead-mountain': 'Twin/Bond Range',
        'mount-hale': 'Twin/Bond Range',
        'mount-garfield': 'Franconia Range',
        'mount-lafayette': 'Franconia Range',
        'mount-lincoln': 'Franconia Range',
        'mount-liberty': 'Franconia Range',
        'mount-flume': 'Franconia Range',
        'mount-washington': 'Presidential Range',
        'mount-adams': 'Presidential Range',
        'mount-jefferson': 'Presidential Range',
        'mount-monroe': 'Presidential Range',
        'mount-madison': 'Presidential Range',
        'mount-eisenhower': 'Presidential Range',
        'mount-pierce': 'Presidential Range',
        'mount-jackson': 'Presidential Range',
        'mount-isolation': 'Presidential Range',
        'carter-dome': 'Carter-Moriah Range',
        'middle-carter-mountain': 'Carter-Moriah Range',
        'south-carter-mountain': 'Carter-Moriah Range',
        'wildcat-mountain-a': 'Carter-Moriah Range',
        'wildcat-mountain-d': 'Carter-Moriah Range',
        'mount-moriah': 'Carter-Moriah Range',
        'mount-moosilauke': 'Kinsman Range',
        'north-kinsman-mountain': 'Kinsman Range',
        'south-kinsman-mountain': 'Kinsman Range',
        'cannon-mountain': 'Kinsman Range',
        'mount-osceola': 'Sandwich Range',
        'mount-osceola-east': 'Sandwich Range',
        'north-tripyramid': 'Sandwich Range',
        'middle-tripyramid': 'Sandwich Range',
        'mount-whiteface': 'Sandwich Range',
        'mount-passaconaway': 'Sandwich Range',
        'mount-tecumseh': 'Sandwich Range',
        'mount-willey': 'Willey Range',
        'mount-field': 'Willey Range',
        'mount-tom': 'Willey Range',
        'mount-carrigain': 'Pemi Wilderness & Remote',
        'owls-head': 'Pemi Wilderness & Remote',
        'mount-hancock': 'Pemi Wilderness & Remote',
        'mount-hancock-south': 'Pemi Wilderness & Remote',
        'mount-cabot': 'Loners & Remote Peaks',
        'mount-waumbek': 'Loners & Remote Peaks'
      };

      const rangeOrder = [
        'All',
        'Presidential Range',
        'Franconia Range',
        'Twin/Bond Range',
        'Carter-Moriah Range',
        'Kinsman Range',
        'Sandwich Range',
        'Willey Range',
        'Pemi Wilderness & Remote',
        'Loners & Remote Peaks'
      ];

      let peaks = [];
      let currentRange = 'All';
      let itemListSchemaEl;

      const seasonRows = {
        summer: [
          ['Trail access', 'All trailheads open; carry extra water on Garfield Ridge, Bonds, and Wildcats.'],
          ['Gear', 'Light layers, sun protection, bug netting in early summer, and traction for lingering monorail snow.'],
          ['Strategy', 'Start at dawn for Lafayette–Lincoln or the Bonds to avoid thunderstorms and crowds.'],
          ['Road notes', 'Tripoli Road (Tecumseh/Osceola) and Zealand Road typically open after mud season.'],
          ['Navigation', 'Above-treeline routes on Washington, Jefferson, and Adams require careful rock hopping and bailout awareness.']
        ],
        winter: [
          ['Trail access', 'Expect gated roads (Zealand, Tripoli, Sawyer River) and longer approach miles to Osceola, Zealand, and Carrigain.'],
          ['Gear', 'Snowshoes (required when depth >8"), microspikes, goggles, four-season shells, and hot backups for electronics.'],
          ['Strategy', 'Short daylight demands pre-dawn starts; pick sheltered routes (Pierce, Waumbek, Tecumseh) in high winds.'],
          ['Road notes', 'Cog Railway and Cannon tram do not count for credit; plan self-propelled ascents from winter lots.'],
          ['Navigation', 'Whiteouts on the Presidential Range make cairn-to-cairn travel hazardous—carry map, compass, and GPX.']
        ]
      };

      function parseCoords(coordString) {
        if (!coordString || typeof coordString !== 'string' || !coordString.includes(',')) return null;
        const [lat, lon] = coordString.split(',').map((v) => parseFloat(v.trim()));
        if (Number.isFinite(lat) && Number.isFinite(lon)) return { lat, lon };
        return null;
      }

      function bestFor(entry, slug) {
        if (entry['View Type']) return entry['View Type'];
        if (entry['Terrain Character']) return entry['Terrain Character'];
        const custom = {
          'mount-tecumseh': 'First NH48 summit / family-friendly',
          'mount-waumbek': 'Low exposure forest hike',
          'mount-washington': 'Alpine weather & observatory views',
          'mount-lafayette': 'Franconia Ridge panorama',
          'owls-head': 'Remote endurance loop',
          'bondcliff': 'Iconic cliff ledge panorama'
        };
        return custom[slug] || 'Classic NH48 experience';
      }

      function getRange(entry, slug) {
        if (rangeLookup[slug]) return rangeLookup[slug];
        const range = entry['Range / Subrange'];
        if (range && typeof range === 'string') {
          if (range.toLowerCase().includes('presidential')) return 'Presidential Range';
          if (range.toLowerCase().includes('franconia')) return 'Franconia Range';
          if (range.toLowerCase().includes('carter') || range.toLowerCase().includes('moriah')) return 'Carter-Moriah Range';
        }
        return 'Pemi Wilderness & Remote';
      }

      function renderRangeFilters() {
        const container = document.getElementById('rangeFilters');
        container.innerHTML = '';
        rangeOrder.forEach((label) => {
          const btn = document.createElement('button');
          btn.className = `chip ${currentRange === label ? 'active' : ''}`;
          btn.type = 'button';
          btn.textContent = label;
          btn.dataset.range = label;
          btn.addEventListener('click', () => {
            currentRange = label;
            renderRangeFilters();
            renderPeakTable();
          });
          container.appendChild(btn);
        });
      }

      function renderRangeList() {
        const list = document.getElementById('rangeList');
        list.innerHTML = '';
        const descriptions = {
          'Presidential Range': 'High alpine ridges with volatile weather. Filter to practice bailout planning for Washington–Jefferson–Adams traverses.',
          'Franconia Range': 'Ridge-walk royalty: Lafayette, Lincoln, Liberty, and Flume with Garfield anchoring the north end.',
          'Twin/Bond Range': 'Deep Pemigewasset Wilderness miles featuring Bondcliff’s famous ledge and West Bond’s sunset perch.',
          'Carter-Moriah Range': 'Forest duff, ledgy steps, and hut-to-hut options linking the Carters and Wildcats.',
          'Kinsman Range': 'Moosilauke’s bald dome plus the Cannon/Kinsman ledges that watch over Franconia Notch.',
          'Sandwich Range': 'Osceola, Passaconaway, Whiteface, and the Tripyramids—great training ground with varied footing.',
          'Willey Range': 'Short, steep climbs to Tom, Field, and Willey with underrated viewpoints.',
          'Pemi Wilderness & Remote': 'Carrigain’s fire tower, Owl’s Head’s slide, and the Hancock pair tucked inside the Pemi.',
          'Loners & Remote Peaks': 'Cabot in the Pilot Range and Waumbek in the Pliny Range—quiet forest walks with historical relics.'
        };
        rangeOrder.filter((r) => r !== 'All').forEach((range) => {
          const card = document.createElement('div');
          card.className = 'range-card';
          const title = document.createElement('div');
          title.style.display = 'flex';
          title.style.justifyContent = 'space-between';
          title.style.alignItems = 'center';
          const h = document.createElement('h3');
          h.textContent = range;
          h.style.margin = '0 0 6px';
          const filterBtn = document.createElement('button');
          filterBtn.className = 'chip';
          filterBtn.textContent = 'Filter';
          filterBtn.type = 'button';
          filterBtn.addEventListener('click', () => {
            currentRange = range;
            renderRangeFilters();
            renderPeakTable();
            window.scrollTo({ top: document.getElementById('official-peak-list').offsetTop - 60, behavior: 'smooth' });
          });
          title.appendChild(h);
          title.appendChild(filterBtn);
          const desc = document.createElement('p');
          desc.textContent = descriptions[range];
          card.appendChild(title);
          card.appendChild(desc);
          list.appendChild(card);
        });
      }

      function renderPeakTable() {
        const tbody = document.getElementById('peakTableBody');
        tbody.innerHTML = '';
        const filtered = currentRange === 'All' ? peaks : peaks.filter((p) => p.range === currentRange);
        filtered
          .sort((a, b) => a.name.localeCompare(b.name))
          .forEach((peak) => {
            const tr = document.createElement('tr');
            const peakCell = document.createElement('td');
            const link = document.createElement('a');
            link.href = `/peak/${peak.slug}/`;
            link.textContent = peak.name;
            peakCell.appendChild(link);

            const elevCell = document.createElement('td');
            elevCell.textContent = peak.elevation ? peak.elevation.toLocaleString() : '—';

            const rangeCell = document.createElement('td');
            rangeCell.textContent = peak.range;

            const bestCell = document.createElement('td');
            bestCell.textContent = peak.bestFor;

            tr.appendChild(peakCell);
            tr.appendChild(elevCell);
            tr.appendChild(rangeCell);
            tr.appendChild(bestCell);
            tbody.appendChild(tr);
          });
      }

      function renderQuickFacts() {
        const totalElevation = peaks.reduce((sum, p) => sum + (p.elevation || 0), 0);
        document.getElementById('factTotal').textContent = `${totalElevation.toLocaleString()} ft`;
        const highest = [...peaks].sort((a, b) => (b.elevation || 0) - (a.elevation || 0))[0];
        if (highest) {
          document.getElementById('factHigh').textContent = `${highest.name} – ${highest.elevation?.toLocaleString() || '—'} ft`;
        }
      }

      function renderMap() {
        const map = document.getElementById('peakMap');
        map.innerHTML = '';
        const coords = peaks.filter((p) => p.coords);
        if (!coords.length) {
          map.innerHTML = '<text x="10" y="30" fill="#cbd5e1">No coordinate data available.</text>';
          return;
        }
        const lats = coords.map((c) => c.coords.lat);
        const lons = coords.map((c) => c.coords.lon);
        const minLat = Math.min(...lats);
        const maxLat = Math.max(...lats);
        const minLon = Math.min(...lons);
        const maxLon = Math.max(...lons);
        const padding = 20;
        const width = map.clientWidth || 800;
        const height = map.clientHeight || 360;
        map.setAttribute('viewBox', `0 0 ${width} ${height}`);

        function project(lat, lon) {
          const x = ((lon - minLon) / (maxLon - minLon)) * (width - padding * 2) + padding;
          const y = ((maxLat - lat) / (maxLat - minLat)) * (height - padding * 2) + padding;
          return { x, y };
        }

        coords.forEach((peak) => {
          const { x, y } = project(peak.coords.lat, peak.coords.lon);
          const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
          circle.setAttribute('cx', x);
          circle.setAttribute('cy', y);
          circle.setAttribute('r', 5);
          circle.setAttribute('fill', '#22c55e');
          circle.setAttribute('stroke', '#0b1020');
          circle.setAttribute('stroke-width', '1');
          circle.setAttribute('aria-label', peak.name);
          circle.addEventListener('mouseenter', () => {
            circle.setAttribute('fill', '#60a5fa');
          });
          circle.addEventListener('mouseleave', () => {
            circle.setAttribute('fill', '#22c55e');
          });
          circle.addEventListener('click', () => {
            window.open(`/peak/${peak.slug}/`, '_blank');
          });
          map.appendChild(circle);
        });
      }

      function renderSeasonTable(season) {
        const tbody = document.getElementById('seasonRows');
        const heading = document.getElementById('seasonHeading');
        heading.textContent = season === 'winter' ? 'Winter Strategy' : 'Summer Strategy';
        tbody.innerHTML = '';
        seasonRows[season].forEach(([topic, detail]) => {
          const tr = document.createElement('tr');
          const t1 = document.createElement('td');
          t1.textContent = topic;
          const t2 = document.createElement('td');
          t2.textContent = detail;
          tr.appendChild(t1);
          tr.appendChild(t2);
          tbody.appendChild(tr);
        });
      }

      function renderItemListSchema() {
        if (itemListSchemaEl) itemListSchemaEl.remove();
        const script = document.createElement('script');
        script.type = 'application/ld+json';
        const itemList = {
          '@context': 'https://schema.org',
          '@type': 'ItemList',
          name: 'NH48 Peaks',
          description: 'Official directory of the New Hampshire 4,000 footers with links to every peak detail page.',
          numberOfItems: peaks.length,
          itemListOrder: 'Ascending',
          itemListElement: peaks.map((peak, index) => ({
            '@type': 'ListItem',
            position: index + 1,
            name: peak.name,
            url: `https://nh48.info/peak/${peak.slug}/`,
            description: `${peak.range} — ${peak.bestFor}`
          }))
        };
        script.textContent = JSON.stringify(itemList, null, 2);
        document.body.appendChild(script);
        itemListSchemaEl = script;
      }

      function injectFAQSchema() {
        const faqScript = document.createElement('script');
        faqScript.type = 'application/ld+json';
        faqScript.textContent = JSON.stringify(
          {
            '@context': 'https://schema.org',
            '@type': 'FAQPage',
            mainEntity: [
              {
                '@type': 'Question',
                name: 'What is the easiest 4000 footer in New Hampshire?',
                acceptedAnswer: {
                  '@type': 'Answer',
                  text: 'Mt. Tecumseh and Mt. Waumbek offer short mileage, modest elevation gain, and sheltered forest routes, making them the gentlest NH48 summits.'
                }
              },
              {
                '@type': 'Question',
                name: 'Do winter ascents count toward the NH48 list?',
                acceptedAnswer: {
                  '@type': 'Answer',
                  text: 'Yes. Winter climbs (December 21 through March 21) count toward the primary NH48 completion and separately for the AMC Winter Four-Thousand-Footer award.'
                }
              },
              {
                '@type': 'Question',
                name: 'Which NH48 range has the most dangerous weather?',
                acceptedAnswer: {
                  '@type': 'Answer',
                  text: 'The Presidential Range is the most weather-exposed: rapid temperature swings, alpine winds, and long above-treeline stretches demand conservative decision-making.'
                }
              },
              {
                '@type': 'Question',
                name: 'How do I find individual peak details?',
                acceptedAnswer: {
                  '@type': 'Answer',
                  text: 'Follow the links in the Official Peak List to /peak/slug/. Each peak page includes a Back to the NH48 Guide link for reciprocal navigation.'
                }
              }
            ]
          },
          null,
          2
        );
        document.body.appendChild(faqScript);
      }

      function hydratePeaks(data) {
        peaks = Object.values(data).map((entry) => {
          const slug = entry.slug || entry.peakName?.toLowerCase().replace(/[^a-z0-9]+/g, '-');
          return {
            slug,
            name: entry.peakName || entry['Peak Name'],
            elevation: parseInt(entry['Elevation (ft)'], 10) || null,
            prominence: parseInt(entry['Prominence (ft)'], 10) || null,
            range: getRange(entry, slug),
            bestFor: bestFor(entry, slug),
            coords: parseCoords(entry.Coordinates)
          };
        });
      }

      function init() {
        renderRangeFilters();
        renderRangeList();
        renderSeasonTable('summer');
        document.getElementById('summerBtn').addEventListener('click', () => {
          document.getElementById('summerBtn').classList.add('active');
          document.getElementById('winterBtn').classList.remove('active');
          renderSeasonTable('summer');
        });
        document.getElementById('winterBtn').addEventListener('click', () => {
          document.getElementById('winterBtn').classList.add('active');
          document.getElementById('summerBtn').classList.remove('active');
          renderSeasonTable('winter');
        });

        fetch('/manifest_out.json')
          .then((r) => r.json())
          .then((data) => {
            hydratePeaks(data);
            renderPeakTable();
            renderQuickFacts();
            renderItemListSchema();
            renderMap();
          })
          .catch((err) => {
            console.error('Failed to load peak data', err);
            document.getElementById('peakTableBody').innerHTML = '<tr><td colspan="4">Unable to load peaks right now.</td></tr>';
          });

        injectFAQSchema();
      }

      document.addEventListener('DOMContentLoaded', init);
    </script>
  </body>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Complete Guide to the New Hampshire 48 4,000 Footers | NH48 Guide</title>
  <meta name="description" content="Definitive NH48 guide covering the New Hampshire 4,000 footers with peak list, range filters, winter vs. summer tips, interactive map, ItemList schema, and API resources." />
  <meta name="keywords" content="NH48 guide, New Hampshire 4000 footers, AMC 4000 footers, hiking NH peaks, NH48 peak data" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://nh48.info/nh-4000-footers-guide" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b1021;
      --panel: #0f172a;
      --card: #11182d;
      --ink: #e5ecf5;
      --muted: #a5b4c3;
      --stroke: #24324d;
      --accent: #22c55e;
      --accent-2: #38bdf8;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at 10% 20%, rgba(56,189,248,0.08) 0, transparent 30%),
                  radial-gradient(circle at 90% 10%, rgba(34,197,94,0.08) 0, transparent 25%),
                  var(--bg);
      color: var(--ink);
      -webkit-font-smoothing: antialiased;
    }
    a { color: var(--accent-2); }
    header.hero {
      padding: 32px 16px 24px;
      background: linear-gradient(135deg, rgba(34,197,94,0.15), rgba(56,189,248,0.12));
      border-bottom: 1px solid var(--stroke);
    }
    .max-width { max-width: 1180px; margin: 0 auto; }
    .hero-grid { display: grid; grid-template-columns: 1.1fr 0.9fr; gap: 24px; align-items: center; }
    h1 { margin: 0 0 12px; font-size: clamp(2rem, 3vw + 0.5rem, 3rem); line-height: 1.1; }
    .hero-eyebrow { text-transform: uppercase; letter-spacing: 0.1em; font-weight: 700; color: var(--accent); font-size: 0.85rem; }
    .hero-copy { font-size: 1.05rem; line-height: 1.6; color: var(--muted); }
    .cta-row { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 16px; }
    .btn { border: 1px solid var(--stroke); color: var(--ink); background: var(--card); padding: 12px 16px; border-radius: 12px; text-decoration: none; font-weight: 700; display: inline-flex; gap: 8px; align-items: center; }
    .btn-primary { background: linear-gradient(90deg, #22c55e, #38bdf8); color: #0a0f1a; border: none; box-shadow: none; }
    .panel { background: var(--card); border: 1px solid var(--stroke); border-radius: 16px; padding: 16px; box-shadow: none; }
    .quick-stats { display: grid; grid-template-columns: repeat(auto-fit,minmax(160px,1fr)); gap: 12px; margin-top: 16px; }
    .stat-card { padding: 12px; background: rgba(255,255,255,0.02); border: 1px solid var(--stroke); border-radius: 12px; }
    .stat-label { color: var(--muted); font-size: 0.9rem; }
    .stat-value { font-size: 1.4rem; font-weight: 800; margin-top: 6px; }
    section { padding: 24px 16px; border-top: 1px solid var(--stroke); }
    section h2 { margin: 0 0 12px; font-size: 1.6rem; }
    p { color: var(--muted); line-height: 1.6; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(280px,1fr)); gap: 16px; }
    .range-filter { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; margin: 12px 0 8px; }
    select, button.toggle { background: var(--card); color: var(--ink); border: 1px solid var(--stroke); padding: 10px 12px; border-radius: 10px; font-weight: 600; }
    .table-wrap { overflow-x: auto; border: 1px solid var(--stroke); border-radius: 14px; }
    table { width: 100%; border-collapse: collapse; min-width: 640px; }
    th, td { padding: 12px; border-bottom: 1px solid var(--stroke); text-align: left; }
    th { background: rgba(255,255,255,0.03); font-size: 0.9rem; color: var(--muted); }
    tbody tr:hover { background: rgba(34,197,94,0.07); }
    .badge { display: inline-block; padding: 4px 8px; border-radius: 999px; font-size: 0.85rem; font-weight: 700; background: rgba(34,197,94,0.14); color: #8ef1b6; border: 1px solid rgba(34,197,94,0.3); }
    .map { height: 320px; background: radial-gradient(circle at 50% 30%, rgba(56,189,248,0.1), transparent 40%), linear-gradient(180deg, #0c1324, #0b0f1d); border: 1px solid var(--stroke); border-radius: 16px; position: relative; overflow: hidden; }
    .map svg { width: 100%; height: 100%; }
    .map .pin { fill: var(--accent); opacity: 0.9; }
    .range-card h3 { margin: 0 0 6px; }
    .range-card ul { padding-left: 18px; margin: 0; color: var(--muted); line-height: 1.5; }
    .toggle-group { display: inline-flex; border: 1px solid var(--stroke); border-radius: 10px; overflow: hidden; margin: 12px 0; }
    .toggle-group button { border: none; background: transparent; padding: 10px 14px; color: var(--muted); font-weight: 700; cursor: pointer; }
    .toggle-group button.active { background: rgba(34,197,94,0.18); color: var(--ink); }
    .faq { margin-top: 10px; }
    .faq details { border: 1px solid var(--stroke); border-radius: 10px; margin-bottom: 8px; padding: 10px 12px; background: rgba(255,255,255,0.02); }
    .comparison { display: grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap: 12px; margin-top: 10px; }
    .comparison ul { margin: 6px 0 0; padding-left: 18px; color: var(--muted); }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }
    @media (max-width: 900px) { .hero-grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <header class="hero">
    <div class="max-width hero-grid">
      <div>
        <div class="hero-eyebrow">NH48 pillar</div>
        <h1>The Complete Guide to the New Hampshire 48 4,000 Footers</h1>
        <p class="hero-copy">Build topical authority with the definitive NH48 resource. Explore the official AMC-aligned list, filter by range, compare winter vs. summer strategies, and pull open data directly from the NH48.info API to power your own tools.</p>
        <div class="cta-row">
          <a class="btn btn-primary" href="#official-list">Browse the NH48 list</a>
          <a class="btn" href="/peak/mount-washington">View interactive peak pages</a>
          <a class="btn" href="#api">Developer API docs</a>
        </div>
        <div class="panel" id="quickFacts" aria-live="polite">
          <h2 class="sr-only">Quick facts</h2>
          <div class="quick-stats"></div>
        </div>
      </div>
      <div class="panel">
        <h3 style="margin-top:0">Range filter</h3>
        <p class="hero-copy" style="margin:0 0 10px">Browse peaks by their White Mountain neighborhood. Select a cluster to filter the official list and jump to range-specific recommendations.</p>
        <div class="range-filter">
          <label for="rangeSelect">Filter by range</label>
          <select id="rangeSelect" aria-label="Filter peaks by mountain range"></select>
        </div>
        <div class="map" aria-hidden="true">
          <svg id="peakMap" viewBox="0 0 600 320" role="presentation"></svg>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="max-width" id="what-is-nh48">
      <h2>What is the NH48?</h2>
      <p>The NH48 are the forty-eight New Hampshire summits that rise above 4,000 feet with at least 200 feet of prominence. The idea emerged in 1931 from Dartmouth librarian Nathaniel L. Goodrich. The AMC Four-Thousand-Footer Club formalized the list in 1957, and the roster grew to 48 peaks in 1980 when Bondcliff and Galehead were added after new USGS surveys.</p>
      <p>To earn credit, hikers must climb and descend on foot (skis and snowshoes count in winter), skip mechanical assists like the Cog Railway or Cannon Tramway, and complete each peak as a contiguous trip without driving between trailheads mid-hike.</p>
    </section>

    <section class="max-width" id="official-list">
      <h2>The Official Peak List</h2>
      <p>Every NH48 peak links to its dedicated page. Use the range filter or type-ahead search to quickly jump to the summits you need.</p>
      <div class="range-filter">
        <label for="searchInput">Search peaks</label>
        <input id="searchInput" type="search" placeholder="Search by name or range" style="padding:10px 12px;border-radius:10px;border:1px solid var(--stroke);background:var(--card);color:var(--ink);flex:1;min-width:240px;">
      </div>
      <div class="table-wrap">
        <table aria-label="Official NH48 peak list">
          <thead>
            <tr>
              <th scope="col">Peak</th>
              <th scope="col">Elevation</th>
              <th scope="col">Range</th>
              <th scope="col">Difficulty</th>
              <th scope="col">View / Character</th>
            </tr>
          </thead>
          <tbody id="peakTable"></tbody>
        </table>
      </div>
    </section>

    <section class="max-width" id="ranges">
      <h2>Peaks by Mountain Range</h2>
      <p>Use the NH48 as a hub-and-spoke: explore a range, click into each peak, and flow back to this guide to keep topical coverage tight.</p>
      <div class="grid" id="rangeGrid"></div>
    </section>

    <section class="max-width" id="difficulty">
      <h2>Peak Difficulty &amp; Strategy</h2>
      <div class="grid">
        <div class="panel">
          <h3>First-timer friendly</h3>
          <ul>
            <li><strong>Mt. Tecumseh</strong> – shortest mileage and forgiving grade.</li>
            <li><strong>Mt. Waumbek</strong> – steady forest climb with reliable footing.</li>
            <li><strong>Mt. Pierce</strong> – classic Presidential views from Crawford Path.</li>
          </ul>
        </div>
        <div class="panel">
          <h3>Advanced &amp; remote</h3>
          <ul>
            <li><strong>The Bonds</strong> – long mileage and commitment, ideal as overnight traverse.</li>
            <li><strong>Owl’s Head</strong> – long approach, muddy lower miles, loose slide.</li>
            <li><strong>The Wildcats</strong> – relentless ascent; feel like a stairmaster.</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="max-width" id="seasonal">
      <h2>Seasonal Considerations</h2>
      <div class="toggle-group" role="tablist" aria-label="Seasonal tips">
        <button class="toggle active" data-target="summer" role="tab" aria-selected="true">Summer</button>
        <button class="toggle" data-target="winter" role="tab" aria-selected="false">Winter</button>
      </div>
      <div id="summer" class="panel" role="tabpanel">
        <h3 style="margin-top:0">Summer game plan</h3>
        <div class="comparison">
          <div>
            <strong>Trail conditions</strong>
            <ul>
              <li>Afternoon thunderstorms on exposed ridges—start early.</li>
              <li>Black flies linger in June; carry headnets.</li>
              <li>Heat on bald summits like Moosilauke and Washington—sun protection is key.</li>
            </ul>
          </div>
          <div>
            <strong>Strategy</strong>
            <ul>
              <li>Link Franconia Ridge (Lafayette + Lincoln) on clear days for views.</li>
              <li>Pack extra water for dry stretches on Bondcliff, Garfield Ridge, and the Wildcats.</li>
              <li>Use ridgeline days to stack nearby peaks: Pierce + Eisenhower or Willey + Field + Tom.</li>
            </ul>
          </div>
        </div>
      </div>
      <div id="winter" class="panel" role="tabpanel" hidden>
        <h3 style="margin-top:0">Winter NH48 tactics</h3>
        <div class="comparison">
          <div>
            <strong>Rules &amp; risks</strong>
            <ul>
              <li>Separate AMC list for winter (Dec 21 – Mar 21).</li>
              <li>Carry microspikes and snowshoes; use snowshoes when snow is &gt; 8 inches.</li>
              <li>Trailhead closures (Tripoli Road, Zealand Road) add road-walk miles.</li>
            </ul>
          </div>
          <div>
            <strong>Route picks</strong>
            <ul>
              <li>Seek packed-out peaks like Tecumseh and Pierce after storms.</li>
              <li>Plan shorter daylight—bring headlamps even for “quick” hikes.</li>
              <li>Watch wind on Presidentials; bail via treeline escape routes when needed.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section class="max-width" id="api">
      <h2>Data &amp; API Resources</h2>
      <div class="grid">
        <div class="panel">
          <h3>Open data for builders</h3>
          <p>NH48.info exposes JSON and GeoJSON for peak coordinates, elevation, prominence, trail metadata, and photo alt text. Combine the API with your own weather, tracking, or trip-planning layers.</p>
          <p><a href="https://nh48.info/data/nh48.json">NH48 JSON dataset</a> • <a href="https://nh48.info/photos/backgrounds/alt-text.json">Photo alt text</a></p>
          <p class="hero-copy">Call to action: build a badge tracker, snowpack notifier, or embed our dataset in your own “NH48 progress” product. Every integration sends link equity back to this guide.</p>
        </div>
        <div class="panel">
          <h3>NH48 Guide flywheel</h3>
          <ul>
            <li>Link out from every peak to its detail page to push authority.</li>
            <li>Use this guide as the canonical backlink target from peak pages.</li>
            <li>Developers: cite <code>nh48.info/nh-4000-footers-guide</code> in docs to reinforce the hub.</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="max-width" id="faq">
      <h2>NH48 FAQ</h2>
      <div class="faq">
        <details open>
          <summary>What is the easiest 4,000 footer in New Hampshire?</summary>
          <p>Most hikers start with Mt. Tecumseh or Mt. Waumbek thanks to modest mileage, steady grades, and reliable winter packing.</p>
        </details>
        <details>
          <summary>Which peak has the best views?</summary>
          <p>Mt. Carrigain’s fire tower delivers a 360-degree sweep of the Pemigewasset Wilderness, while Lafayette and Washington headline above-treeline panoramas.</p>
        </details>
        <details>
          <summary>Do tram or cog rides count toward the list?</summary>
          <p>No. The AMC rules require climbing and descending on foot (or skis/snowshoes in winter), so mechanical assistance from the Mt. Washington Cog Railway or Cannon Tramway is not permitted.</p>
        </details>
        <details>
          <summary>How should I link my peak trip reports?</summary>
          <p>Link each report to the matching NH48 peak page and link back here with the anchor text “NH48 Guide” to reinforce the hub-and-spoke structure.</p>
        </details>
      </div>
    </section>
  </main>

  <script>
    const rangeOptions = [
      'All ranges',
      'Presidential Range',
      'Franconia Range',
      'Twin/Bond Range',
      'Carter-Moriah Range',
      'Kinsman Range',
      'Sandwich Range',
      'Willey Range',
      'Loners & Remote Peaks'
    ];

    const rangeBuckets = {
      'Presidential Range': ['presidential'],
      'Franconia Range': ['franconia'],
      'Twin/Bond Range': ['twin', 'bond'],
      'Carter-Moriah Range': ['carter', 'moriah'],
      'Kinsman Range': ['kinsman'],
      'Sandwich Range': ['sandwich', 'osceola', 'waterville'],
      'Willey Range': ['willey'],
      'Loners & Remote Peaks': ['carrigain', 'owl', 'pilot', 'pliny', 'pemigewasset']
    };

    function canonicalRange(rawRange = '', peakName = '') {
      const lower = rawRange.toLowerCase();
      for (const [label, needles] of Object.entries(rangeBuckets)) {
        if (needles.some((n) => lower.includes(n) || peakName.toLowerCase().includes(n))) {
          return label;
        }
      }
      return 'Other White Mountains';
    }

    async function loadPeaks() {
      const res = await fetch('/data/nh48.json');
      const data = await res.json();
      return Object.values(data).map((peak) => {
        const name = peak['Peak Name'] || peak.peakName;
        const elevation = Number(peak['Elevation (ft)']) || null;
        const prominence = Number(peak['Prominence (ft)']) || null;
        const range = canonicalRange(peak['Range / Subrange'] || '', name);
        const rawRange = peak['Range / Subrange'] || 'White Mountains';
        const difficulty = peak['Difficulty'] || '—';
        const view = peak['View Type'] || peak['Terrain Character'] || 'Forest and ridge travel';
        const coords = (peak['Coordinates'] || '').split(',').map((v) => Number(v.trim()));
        return { name, slug: peak.slug, elevation, prominence, range, rawRange, difficulty, view, coords };
      });
    }

    function renderRangeSelect() {
      const select = document.getElementById('rangeSelect');
      rangeOptions.forEach((label) => {
        const option = document.createElement('option');
        option.value = label;
        option.textContent = label;
        select.appendChild(option);
      });
    }

    function formatElevation(value) {
      return value ? `${value.toLocaleString()} ft` : '—';
    }

    function renderTable(peaks, activeRange = 'All ranges', query = '') {
      const tbody = document.getElementById('peakTable');
      tbody.innerHTML = '';
      const normalizedQuery = query.toLowerCase();
      peaks
        .filter((peak) => activeRange === 'All ranges' || peak.range === activeRange)
        .filter((peak) => peak.name.toLowerCase().includes(normalizedQuery) || peak.range.toLowerCase().includes(normalizedQuery) || peak.rawRange.toLowerCase().includes(normalizedQuery))
        .sort((a, b) => b.elevation - a.elevation)
        .forEach((peak) => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td><a href="/peak/${peak.slug}/">${peak.name}</a></td>
            <td>${formatElevation(peak.elevation)}</td>
            <td>${peak.range}</td>
            <td><span class="badge">${peak.difficulty}</span></td>
            <td>${peak.view}</td>
          `;
          tbody.appendChild(tr);
        });
    }

    function renderQuickStats(peaks) {
      const statsWrap = document.querySelector('#quickFacts .quick-stats');
      const totalElevation = peaks.reduce((sum, p) => sum + (p.elevation || 0), 0);
      const averageProminence = peaks.reduce((sum, p) => sum + (p.prominence || 0), 0) / (peaks.length || 1);
      const highest = peaks.reduce((max, p) => (p.elevation > (max.elevation || 0) ? p : max), {});
      const presidentialCount = peaks.filter((p) => p.range === 'Presidential Range').length;
      statsWrap.innerHTML = `
        <div class="stat-card"><div class="stat-label">Total peaks</div><div class="stat-value">${peaks.length}</div></div>
        <div class="stat-card"><div class="stat-label">Summit elevation sum</div><div class="stat-value">${Math.round(totalElevation).toLocaleString()} ft</div></div>
        <div class="stat-card"><div class="stat-label">Avg prominence</div><div class="stat-value">${Math.round(averageProminence).toLocaleString()} ft</div></div>
        <div class="stat-card"><div class="stat-label">Highest peak</div><div class="stat-value">${highest.name || 'Mount Washington'} (${formatElevation(highest.elevation)})</div></div>
        <div class="stat-card"><div class="stat-label">Presidentials on the list</div><div class="stat-value">${presidentialCount} peaks</div></div>
      `;
    }

    function renderRangeGrid(peaks) {
      const grid = document.getElementById('rangeGrid');
      const grouped = peaks.reduce((acc, peak) => {
        acc[peak.range] = acc[peak.range] || [];
        acc[peak.range].push(peak);
        return acc;
      }, {});
      grid.innerHTML = '';
      rangeOptions.filter((r) => r !== 'All ranges').forEach((range) => {
        const list = grouped[range] || [];
        if (!list.length) return;
        const card = document.createElement('div');
        card.className = 'panel range-card';
        card.innerHTML = `<h3>${range}</h3><ul>${list
          .sort((a, b) => a.name.localeCompare(b.name))
          .map((p) => `<li><a href="/peak/${p.slug}/">${p.name}</a> — ${formatElevation(p.elevation)}</li>`)
          .join('')}</ul>`;
        grid.appendChild(card);
      });
    }

    function renderMap(peaks) {
      const svg = document.getElementById('peakMap');
      const coords = peaks.map((p) => ({
        lat: p.coords[0],
        lon: p.coords[1],
        name: p.name,
        slug: p.slug
      })).filter((c) => Number.isFinite(c.lat) && Number.isFinite(c.lon));
      const minLat = Math.min(...coords.map((c) => c.lat));
      const maxLat = Math.max(...coords.map((c) => c.lat));
      const minLon = Math.min(...coords.map((c) => c.lon));
      const maxLon = Math.max(...coords.map((c) => c.lon));
      const pad = 12;
      svg.innerHTML = '';
      coords.forEach((c) => {
        const x = ((c.lon - minLon) / (maxLon - minLon)) * (600 - pad * 2) + pad;
        const y = (1 - (c.lat - minLat) / (maxLat - minLat)) * (320 - pad * 2) + pad;
        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        circle.setAttribute('cx', x.toFixed(2));
        circle.setAttribute('cy', y.toFixed(2));
        circle.setAttribute('r', 5);
        circle.setAttribute('class', 'pin');
        circle.setAttribute('data-name', c.name);
        circle.setAttribute('data-slug', c.slug);
        circle.addEventListener('click', () => {
          window.location.href = `/peak/${c.slug}/`;
        });
        const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
        title.textContent = c.name;
        circle.appendChild(title);
        svg.appendChild(circle);
      });
    }

    function buildItemListSchema(peaks) {
      const itemList = {
        '@context': 'https://schema.org',
        '@type': 'ItemList',
        name: 'New Hampshire 4000 Footers',
        itemListElement: peaks
          .sort((a, b) => a.name.localeCompare(b.name))
          .map((peak, index) => ({
            '@type': 'ListItem',
            position: index + 1,
            url: `https://nh48.info/peak/${peak.slug}/`,
            name: peak.name
          }))
      };
      const script = document.createElement('script');
      script.type = 'application/ld+json';
      script.textContent = JSON.stringify(itemList, null, 2);
      document.head.appendChild(script);
    }

    function buildFaqSchema() {
      const faqSchema = {
        '@context': 'https://schema.org',
        '@type': 'FAQPage',
        mainEntity: [
          {
            '@type': 'Question',
            name: 'What is the easiest 4,000 footer in New Hampshire?',
            acceptedAnswer: {
              '@type': 'Answer',
              text: 'Mt. Tecumseh and Mt. Waumbek are commonly recommended starters thanks to moderate grades and packed-in winter traffic.'
            }
          },
          {
            '@type': 'Question',
            name: 'Which NH48 peak has the best views?',
            acceptedAnswer: {
              '@type': 'Answer',
              text: 'Mt. Carrigain offers 360-degree views from its fire tower, while Lafayette and Washington deliver marquee alpine panoramas.'
            }
          },
          {
            '@type': 'Question',
            name: 'Do cog or tram rides count toward the NH48 list?',
            acceptedAnswer: {
              '@type': 'Answer',
              text: 'No. The AMC Four-Thousand-Footer Club requires hiking up and down on foot (or with skis/snowshoes in winter); mechanical assists like the Mt. Washington Cog Railway or Cannon Tramway do not qualify.'
            }
          },
          {
            '@type': 'Question',
            name: 'How do I link to keep NH48 internal equity strong?',
            acceptedAnswer: {
              '@type': 'Answer',
              text: 'Link each summit mention to its /peak/ page and add a return link with the anchor text "NH48 Guide" pointing back to /nh-4000-footers-guide.'
            }
          }
        ]
      };
      const script = document.createElement('script');
      script.type = 'application/ld+json';
      script.textContent = JSON.stringify(faqSchema, null, 2);
      document.head.appendChild(script);
    }

    function bindSeasonToggles() {
      const toggles = document.querySelectorAll('.toggle-group button');
      toggles.forEach((btn) => {
        btn.addEventListener('click', () => {
          toggles.forEach((b) => b.classList.remove('active'));
          btn.classList.add('active');
          document.querySelectorAll('#summer, #winter').forEach((panel) => {
            panel.hidden = panel.id !== btn.dataset.target;
            panel.setAttribute('aria-hidden', panel.hidden ? 'true' : 'false');
          });
        });
      });
    }

    function wireInteractions(peaks) {
      const select = document.getElementById('rangeSelect');
      const search = document.getElementById('searchInput');
      const update = () => renderTable(peaks, select.value, search.value);
      select.addEventListener('change', update);
      search.addEventListener('input', update);
      update();
    }

    (async function initGuide() {
      renderRangeSelect();
      bindSeasonToggles();
      const peaks = await loadPeaks();
      renderTable(peaks);
      renderQuickStats(peaks);
      renderRangeGrid(peaks);
      renderMap(peaks);
      buildItemListSchema(peaks);
      buildFaqSchema();
      wireInteractions(peaks);
    })();
  </script>
  <div id="footer-placeholder"></div>
</body>
</html>
